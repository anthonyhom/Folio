{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyhom/Documents/atam-web/src/Component/Profile.js\";\nimport React from \"react\";\nimport \"../App.css\";\nimport \"../css/profile.css\";\nimport \"./Post.js\";\nimport \"./PostingList.js\";\nimport Settings from \"./Settings\";\nimport \"../css/settings.css\";\nimport FriendList from \"./FriendList\";\nimport FollowersList from \"./FollowersList\";\nimport Modal from \"./Modal\";\nexport default class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showSettingsModal = e => {\n      this.setState({\n        showModal: !this.state.showModal\n      });\n      console.log(this.state.showModal);\n    };\n\n    this.showFollowingModal = e => {\n      this.setState({\n        showModal2: !this.state.showModal2\n      });\n      console.log(this.state.showModal2);\n    };\n\n    this.showFollowersModal = e => {\n      this.setState({\n        showModal3: !this.state.showModal3\n      });\n    };\n\n    this.logout = e => {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getUsers\",\n          userid: sessionStorage.getItem(\"user\")\n        })\n      }).then(res => res.json()).then(result => {\n        let email = result.users[0].email_addr;\n        return fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/SocialAuth.php\", {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"logout\",\n            username: email,\n            session_token: sessionStorage.getItem(\"token\")\n          })\n        }).then(resp => resp.json()).then(response => {\n          sessionStorage.clear();\n          window.location.reload(false);\n        }, error => {\n          alert(\"error!\");\n        });\n      }, error => {\n        alert(\"error!\");\n      });\n    };\n\n    this.getUserArtifacts = (artifact_cat, artifact_item) => {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getUserArtifacts\",\n          userid: sessionStorage.getItem(\"user\"),\n          artifactcategory: artifact_cat\n        })\n      }).then(res => res.json()).then(result => {\n        if (result.user_artifacts === undefined) {\n          return fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n            method: \"post\",\n            body: JSON.stringify({\n              action: \"addOrEditUserArtifacts\",\n              user_id: sessionStorage.getItem(\"user\"),\n              userid: sessionStorage.getItem(\"user\"),\n              session_token: sessionStorage.getItem(\"token\"),\n              artifacttype: \"profileSettings\",\n              artifactcategory: artifact_cat,\n              artifacturl: artifact_item\n            })\n          }).then(resp => resp.json()).then(response => {}, error => {\n            alert(\"error!\");\n          });\n        } else {\n          if (artifact_cat === \"profilePic\") {\n            this.setState({\n              profilePic: result.user_artifacts[0].artifact_url\n            });\n          } else if (artifact_cat === \"bio\") {\n            this.setState({\n              bio: result.user_artifacts[0].artifact_url\n            });\n          } else if (artifact_cat === \"crowdfunding\") {\n            this.setState({\n              crowdfunding: result.user_artifacts[0].artifact_url\n            });\n          }\n        }\n      }, error => {\n        alert(\"error!\");\n      });\n    };\n\n    this.state = {\n      showModal: false,\n      showModal2: false,\n      showModal3: false,\n      dname: \"\",\n      fname: \"\",\n      lname: \"\",\n      bio: \"\",\n      crowdfunding: \"\",\n      profilePic: \"\"\n    };\n  }\n\n  render() {\n    // Check If we have a profile pic already loaded, if not get info from user artifacts\n    if (this.state.profilePic === \"\" && this.state.bio === \"\" && this.state.crowdfunding === \"\") {\n      this.getUserArtifacts(\"profilePic\", \"https://www.svgrepo.com/show/213315/avatar-profile.svg\");\n      this.getUserArtifacts(\"bio\", \"Hey Update Me!\");\n      this.getUserArtifacts(\"crowdfunding\", \"Hey Update Me!\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"sidebar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"edit-profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      className: \"edit-img\",\n      src: require(\"../Images/pencil_white.svg\"),\n      onClick: e => this.showSettingsModal(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"side-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"profile-pic-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      className: \"profile-pic\",\n      src: this.state.profilePic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"user-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mobile-edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      className: \"edit-img\",\n      src: require(\"../Images/pencil_white.svg\"),\n      onClick: e => this.showModal(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"display-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, sessionStorage.getItem(\"dname\")), React.createElement(\"div\", {\n      className: \"user-bio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Bio: \"), this.state.bio), React.createElement(\"div\", {\n      className: \"crowdfund-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Crowdfunding: \"), this.state.crowdfunding), React.createElement(\"button\", {\n      className: \"followinglist-button\",\n      onClick: e => this.showFollowingModal(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Following\"), React.createElement(\"button\", {\n      className: \"followerlist-button\",\n      onClick: e => this.showFollowersModal(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Followers\"), React.createElement(\"button\", {\n      className: \"logout-button\",\n      onClick: e => this.logout(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"LOGOUT\"))), React.createElement(Settings, {\n      show: this.state.showModal,\n      onClose: e => this.showSettingsModal(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      show: this.state.showModal2,\n      onClose: e => this.showFollowingModal(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(FriendList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    })), React.createElement(Modal, {\n      show: this.state.showModal3,\n      onClose: e => this.showFollowersModal(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(FollowersList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/anthonyhom/Documents/atam-web/src/Component/Profile.js"],"names":["React","Settings","FriendList","FollowersList","Modal","Profile","Component","constructor","props","showSettingsModal","e","setState","showModal","state","console","log","showFollowingModal","showModal2","showFollowersModal","showModal3","logout","fetch","method","body","JSON","stringify","action","userid","sessionStorage","getItem","then","res","json","result","email","users","email_addr","username","session_token","resp","response","clear","window","location","reload","error","alert","getUserArtifacts","artifact_cat","artifact_item","artifactcategory","user_artifacts","undefined","user_id","artifacttype","artifacturl","profilePic","artifact_url","bio","crowdfunding","dname","fname","lname","render","require"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,OAAO,oBAAP;AACA,OAAO,WAAP;AACA,OAAO,kBAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,qBAAP;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,eAAe,MAAMC,OAAN,SAAsBL,KAAK,CAACM,SAA5B,CAAsC;AACnDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAenBC,iBAfmB,GAeEC,CAAD,IAAO;AACzB,WAAKC,QAAL,CAAc;AACZC,QAAAA,SAAS,EAAE,CAAC,KAAKC,KAAL,CAAWD;AADX,OAAd;AAGAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAL,CAAWD,SAAvB;AACD,KApBkB;;AAAA,SAqBnBI,kBArBmB,GAqBGN,CAAD,IAAO;AAC1B,WAAKC,QAAL,CAAc;AACZM,QAAAA,UAAU,EAAE,CAAC,KAAKJ,KAAL,CAAWI;AADZ,OAAd;AAGAH,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAL,CAAWI,UAAvB;AACD,KA1BkB;;AAAA,SA2BnBC,kBA3BmB,GA2BGR,CAAD,IAAO;AAC1B,WAAKC,QAAL,CAAc;AACZQ,QAAAA,UAAU,EAAE,CAAC,KAAKN,KAAL,CAAWM;AADZ,OAAd;AAGD,KA/BkB;;AAAA,SAiCnBC,MAjCmB,GAiCTV,CAAD,IAAO;AACdW,MAAAA,KAAK,CAAC,iEAAD,EAAoE;AACvEC,QAAAA,MAAM,EAAE,MAD+D;AAEvEC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,MAAM,EAAE,UADW;AAEnBC,UAAAA,MAAM,EAAEC,cAAc,CAACC,OAAf,CAAuB,MAAvB;AAFW,SAAf;AAFiE,OAApE,CAAL,CAOGC,IAPH,CAOSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPjB,EAQGF,IARH,CASKG,MAAD,IAAY;AACV,YAAIC,KAAK,GAAGD,MAAM,CAACE,KAAP,CAAa,CAAb,EAAgBC,UAA5B;AACA,eAAOf,KAAK,CACV,6DADU,EAEV;AACEC,UAAAA,MAAM,EAAE,MADV;AAEEC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,YAAAA,MAAM,EAAE,QADW;AAEnBW,YAAAA,QAAQ,EAAEH,KAFS;AAGnBI,YAAAA,aAAa,EAAEV,cAAc,CAACC,OAAf,CAAuB,OAAvB;AAHI,WAAf;AAFR,SAFU,CAAL,CAWJC,IAXI,CAWES,IAAD,IAAUA,IAAI,CAACP,IAAL,EAXX,EAYJF,IAZI,CAaFU,QAAD,IAAc;AACZZ,UAAAA,cAAc,CAACa,KAAf;AACAC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD,SAhBE,EAiBFC,KAAD,IAAW;AACTC,UAAAA,KAAK,CAAC,QAAD,CAAL;AACD,SAnBE,CAAP;AAqBD,OAhCL,EAiCKD,KAAD,IAAW;AACTC,QAAAA,KAAK,CAAC,QAAD,CAAL;AACD,OAnCL;AAqCD,KAvEkB;;AAAA,SAyEnBC,gBAzEmB,GAyEA,CAACC,YAAD,EAAeC,aAAf,KAAiC;AAClD5B,MAAAA,KAAK,CAAC,+DAAD,EAAkE;AACrEC,QAAAA,MAAM,EAAE,MAD6D;AAErEC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,MAAM,EAAE,kBADW;AAEnBC,UAAAA,MAAM,EAAEC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAFW;AAGnBqB,UAAAA,gBAAgB,EAAEF;AAHC,SAAf;AAF+D,OAAlE,CAAL,CAQGlB,IARH,CAQSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARjB,EASGF,IATH,CAUKG,MAAD,IAAY;AACV,YAAIA,MAAM,CAACkB,cAAP,KAA0BC,SAA9B,EAAyC;AACvC,iBAAO/B,KAAK,CACV,+DADU,EAEV;AACEC,YAAAA,MAAM,EAAE,MADV;AAEEC,YAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,cAAAA,MAAM,EAAE,wBADW;AAEnB2B,cAAAA,OAAO,EAAEzB,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAFU;AAGnBF,cAAAA,MAAM,EAAEC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAHW;AAInBS,cAAAA,aAAa,EAAEV,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAJI;AAKnByB,cAAAA,YAAY,EAAE,iBALK;AAMnBJ,cAAAA,gBAAgB,EAAEF,YANC;AAOnBO,cAAAA,WAAW,EAAEN;AAPM,aAAf;AAFR,WAFU,CAAL,CAeJnB,IAfI,CAeES,IAAD,IAAUA,IAAI,CAACP,IAAL,EAfX,EAgBJF,IAhBI,CAiBFU,QAAD,IAAc,CAAE,CAjBb,EAkBFK,KAAD,IAAW;AACTC,YAAAA,KAAK,CAAC,QAAD,CAAL;AACD,WApBE,CAAP;AAsBD,SAvBD,MAuBO;AACL,cAAIE,YAAY,KAAK,YAArB,EAAmC;AACjC,iBAAKrC,QAAL,CAAc;AACZ6C,cAAAA,UAAU,EAAEvB,MAAM,CAACkB,cAAP,CAAsB,CAAtB,EAAyBM;AADzB,aAAd;AAGD,WAJD,MAIO,IAAIT,YAAY,KAAK,KAArB,EAA4B;AACjC,iBAAKrC,QAAL,CAAc;AACZ+C,cAAAA,GAAG,EAAEzB,MAAM,CAACkB,cAAP,CAAsB,CAAtB,EAAyBM;AADlB,aAAd;AAGD,WAJM,MAIA,IAAIT,YAAY,KAAK,cAArB,EAAqC;AAC1C,iBAAKrC,QAAL,CAAc;AACZgD,cAAAA,YAAY,EAAE1B,MAAM,CAACkB,cAAP,CAAsB,CAAtB,EAAyBM;AAD3B,aAAd;AAGD;AACF;AACF,OAjDL,EAkDKZ,KAAD,IAAW;AACTC,QAAAA,KAAK,CAAC,QAAD,CAAL;AACD,OApDL;AAsDD,KAhIkB;;AAEjB,SAAKjC,KAAL,GAAa;AACXD,MAAAA,SAAS,EAAE,KADA;AAEXK,MAAAA,UAAU,EAAE,KAFD;AAGXE,MAAAA,UAAU,EAAE,KAHD;AAIXyC,MAAAA,KAAK,EAAE,EAJI;AAKXC,MAAAA,KAAK,EAAE,EALI;AAMXC,MAAAA,KAAK,EAAE,EANI;AAOXJ,MAAAA,GAAG,EAAE,EAPM;AAQXC,MAAAA,YAAY,EAAE,EARH;AASXH,MAAAA,UAAU,EAAE;AATD,KAAb;AAWD;;AAqHDO,EAAAA,MAAM,GAAG;AACP;AACA,QACE,KAAKlD,KAAL,CAAW2C,UAAX,KAA0B,EAA1B,IACA,KAAK3C,KAAL,CAAW6C,GAAX,KAAmB,EADnB,IAEA,KAAK7C,KAAL,CAAW8C,YAAX,KAA4B,EAH9B,EAIE;AACA,WAAKZ,gBAAL,CACE,YADF,EAEE,wDAFF;AAIA,WAAKA,gBAAL,CAAsB,KAAtB,EAA6B,gBAA7B;AACA,WAAKA,gBAAL,CAAsB,cAAtB,EAAsC,gBAAtC;AACD;;AAED,WACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,GAAG,EAAC,EADN;AAEE,MAAA,SAAS,EAAC,UAFZ;AAGE,MAAA,GAAG,EAAEiB,OAAO,CAAC,4BAAD,CAHd;AAIE,MAAA,OAAO,EAAGtD,CAAD,IAAO,KAAKD,iBAAL,CAAuBC,CAAvB,CAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EASE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAC,EAAT;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAoC,MAAA,GAAG,EAAE,KAAKG,KAAL,CAAW2C,UAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,GAAG,EAAC,EADN;AAEE,MAAA,SAAS,EAAC,UAFZ;AAGE,MAAA,GAAG,EAAEQ,OAAO,CAAC,4BAAD,CAHd;AAIE,MAAA,OAAO,EAAGtD,CAAD,IAAO,KAAKE,SAAL,CAAeF,CAAf,CAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAUE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGkB,cAAc,CAACC,OAAf,CAAuB,OAAvB,CADH,CAVF,EAaE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEG,KAAKhB,KAAL,CAAW6C,GAFd,CAbF,EAiBE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEG,KAAK7C,KAAL,CAAW8C,YAFd,CAjBF,EAuBE;AACE,MAAA,SAAS,EAAC,sBADZ;AAEE,MAAA,OAAO,EAAGjD,CAAD,IAAO,KAAKM,kBAAL,CAAwBN,CAAxB,CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAvBF,EA8BE;AACE,MAAA,SAAS,EAAC,qBADZ;AAEE,MAAA,OAAO,EAAGA,CAAD,IAAO,KAAKQ,kBAAL,CAAwBR,CAAxB,CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA9BF,EAqCE;AAAQ,MAAA,SAAS,EAAC,eAAlB;AAAkC,MAAA,OAAO,EAAGA,CAAD,IAAO,KAAKU,MAAL,CAAYV,CAAZ,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBArCF,CAJF,CATF,EAuDE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAE,KAAKG,KAAL,CAAWD,SADnB;AAEE,MAAA,OAAO,EAAGF,CAAD,IAAO,KAAKD,iBAAL,CAAuBC,CAAvB,CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvDF,EA2DE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAE,KAAKG,KAAL,CAAWI,UADnB;AAEE,MAAA,OAAO,EAAGP,CAAD,IAAO,KAAKM,kBAAL,CAAwBN,CAAxB,CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CA3DF,EAiEE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAE,KAAKG,KAAL,CAAWM,UADnB;AAEE,MAAA,OAAO,EAAGT,CAAD,IAAO,KAAKQ,kBAAL,CAAwBR,CAAxB,CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CAjEF,CADF;AA0ED;;AA5NkD","sourcesContent":["import React from \"react\";\nimport \"../App.css\";\nimport \"../css/profile.css\";\nimport \"./Post.js\";\nimport \"./PostingList.js\";\nimport Settings from \"./Settings\";\nimport \"../css/settings.css\";\nimport FriendList from \"./FriendList\";\nimport FollowersList from \"./FollowersList\";\nimport Modal from \"./Modal\";\n\nexport default class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      showModal2: false,\n      showModal3: false,\n      dname: \"\",\n      fname: \"\",\n      lname: \"\",\n      bio: \"\",\n      crowdfunding: \"\",\n      profilePic: \"\",\n    };\n  }\n\n  showSettingsModal = (e) => {\n    this.setState({\n      showModal: !this.state.showModal,\n    });\n    console.log(this.state.showModal);\n  };\n  showFollowingModal = (e) => {\n    this.setState({\n      showModal2: !this.state.showModal2,\n    });\n    console.log(this.state.showModal2);\n  };\n  showFollowersModal = (e) => {\n    this.setState({\n      showModal3: !this.state.showModal3,\n    });\n  };\n\n  logout = (e) => {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUsers\",\n        userid: sessionStorage.getItem(\"user\"),\n      }),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          let email = result.users[0].email_addr;\n          return fetch(\n            \"http://stark.cse.buffalo.edu/cse410/atam/api/SocialAuth.php\",\n            {\n              method: \"post\",\n              body: JSON.stringify({\n                action: \"logout\",\n                username: email,\n                session_token: sessionStorage.getItem(\"token\"),\n              }),\n            }\n          )\n            .then((resp) => resp.json())\n            .then(\n              (response) => {\n                sessionStorage.clear();\n                window.location.reload(false);\n              },\n              (error) => {\n                alert(\"error!\");\n              }\n            );\n        },\n        (error) => {\n          alert(\"error!\");\n        }\n      );\n  };\n\n  getUserArtifacts = (artifact_cat, artifact_item) => {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUserArtifacts\",\n        userid: sessionStorage.getItem(\"user\"),\n        artifactcategory: artifact_cat,\n      }),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          if (result.user_artifacts === undefined) {\n            return fetch(\n              \"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\",\n              {\n                method: \"post\",\n                body: JSON.stringify({\n                  action: \"addOrEditUserArtifacts\",\n                  user_id: sessionStorage.getItem(\"user\"),\n                  userid: sessionStorage.getItem(\"user\"),\n                  session_token: sessionStorage.getItem(\"token\"),\n                  artifacttype: \"profileSettings\",\n                  artifactcategory: artifact_cat,\n                  artifacturl: artifact_item,\n                }),\n              }\n            )\n              .then((resp) => resp.json())\n              .then(\n                (response) => {},\n                (error) => {\n                  alert(\"error!\");\n                }\n              );\n          } else {\n            if (artifact_cat === \"profilePic\") {\n              this.setState({\n                profilePic: result.user_artifacts[0].artifact_url,\n              });\n            } else if (artifact_cat === \"bio\") {\n              this.setState({\n                bio: result.user_artifacts[0].artifact_url,\n              });\n            } else if (artifact_cat === \"crowdfunding\") {\n              this.setState({\n                crowdfunding: result.user_artifacts[0].artifact_url,\n              });\n            }\n          }\n        },\n        (error) => {\n          alert(\"error!\");\n        }\n      );\n  };\n\n  render() {\n    // Check If we have a profile pic already loaded, if not get info from user artifacts\n    if (\n      this.state.profilePic === \"\" &&\n      this.state.bio === \"\" &&\n      this.state.crowdfunding === \"\"\n    ) {\n      this.getUserArtifacts(\n        \"profilePic\",\n        \"https://www.svgrepo.com/show/213315/avatar-profile.svg\"\n      );\n      this.getUserArtifacts(\"bio\", \"Hey Update Me!\");\n      this.getUserArtifacts(\"crowdfunding\", \"Hey Update Me!\");\n    }\n\n    return (\n      <div className=\"sidebar-container\">\n        <div className=\"edit-profile\">\n          <img\n            alt=\"\"\n            className=\"edit-img\"\n            src={require(\"../Images/pencil_white.svg\")}\n            onClick={(e) => this.showSettingsModal(e)}\n          />\n        </div>\n        <div className=\"side-bar\">\n          <div className=\"profile-pic-container\">\n            <img alt=\"\" className=\"profile-pic\" src={this.state.profilePic} />\n          </div>\n          <div className=\"user-info\">\n            <div className=\"mobile-edit\">\n              <img\n                alt=\"\"\n                className=\"edit-img\"\n                src={require(\"../Images/pencil_white.svg\")}\n                onClick={(e) => this.showModal(e)}\n              />\n            </div>\n\n            <div className=\"display-name\">\n              {sessionStorage.getItem(\"dname\")}\n            </div>\n            <div className=\"user-bio\">\n              <h3>Bio: </h3>\n              {this.state.bio}\n            </div>\n            <div className=\"crowdfund-link\">\n              <h3>Crowdfunding: </h3>\n              {this.state.crowdfunding}\n            </div>\n\n            {/* Convert following and followers to vertical tabs */}\n            <button\n              className=\"followinglist-button\"\n              onClick={(e) => this.showFollowingModal(e)}\n            >\n              Following\n            </button>\n\n            <button\n              className=\"followerlist-button\"\n              onClick={(e) => this.showFollowersModal(e)}\n            >\n              Followers\n            </button>\n\n            <button className=\"logout-button\" onClick={(e) => this.logout(e)}>\n              LOGOUT\n            </button>\n          </div>\n        </div>\n        <Settings\n          show={this.state.showModal}\n          onClose={(e) => this.showSettingsModal(e)}\n        />\n        <Modal\n          show={this.state.showModal2}\n          onClose={(e) => this.showFollowingModal(e)}\n        >\n          <FriendList />\n        </Modal>\n        <Modal\n          show={this.state.showModal3}\n          onClose={(e) => this.showFollowersModal(e)}\n        >\n          <FollowersList />\n        </Modal>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}