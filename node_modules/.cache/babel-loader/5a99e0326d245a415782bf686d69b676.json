{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyhom/Documents/atam-web/src/App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport \"./css/navbar.css\";\nimport \"./css/fab.css\";\nimport PostForm from \"./Component/PostForm.js\";\nimport FriendList from \"./Component/FriendList.js\";\nimport Profile from \"./Component/Profile.js\";\nimport FriendForm from \"./Component/FriendForm.js\";\nimport PostingList from \"./Component/PostingList\";\nimport SignUp from \"./Component/SignUp\";\nimport FirstTimeLogin from \"./Component/FirstTimeLogin\"; // import StyleGuide from \"./Component/StyleGuide\";\n\nimport Settings from \"./Component/Profile.js\";\nimport ExploreFilter from \"./Component/ExploreFilter\";\nimport ExplorePostsList from \"./Component/ExplorePostsList\";\nimport NotificationList from \"./Component/NotificationList.js\";\n\nclass MainContent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.togglePage = toggle => {\n      this.setState({\n        section: toggle\n      });\n    };\n\n    this.getDname = () => {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getUsers\",\n          userid: sessionStorage.getItem(\"user\")\n        })\n      }).then(res => res.json()).then(result => {\n        if (result.users[0].name !== null) {\n          this.setState({\n            dname: result.users[0].name\n          });\n          sessionStorage.setItem(\"dname\", result.users[0].name);\n        }\n      }, error => {});\n    };\n\n    this.state = {\n      section: \"main\",\n      openModal: false,\n      dname: \"\",\n      posts: \"\",\n      error: \"\",\n      isLoaded: \"\"\n    };\n  }\n\n  render() {\n    if (this.state.dname === \"\") {\n      this.getDname();\n    }\n\n    if (this.state.dname === \"\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2 col-2 App-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-8 col-7 App-middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(FirstTimeLogin, {\n        togglePage: this.togglePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2 col-3 App-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }));\n    } else {\n      if (this.state.section === \"main\") {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-2 col-2 App-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-8 col-7 App-middle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(PostingList, {\n          posts: this.props.posts,\n          error: this.props.error,\n          isLoaded: this.props.isLoaded,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-md-2 col-3 App-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }));\n      } else if (this.state.section === \"explore\") {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-2 col-2 App-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-12 col-10 App-middle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(ExploreFilter, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        })));\n      } else if (this.state.section === \"profile\") {\n        // FILTER OUT POSTS TO LOGGED IN USER\n        let myPosts = [];\n\n        for (var i = 0; i < this.props.posts.length; i++) {\n          if (this.props.posts[i].user_id === sessionStorage.getItem(\"user\")) {\n            myPosts.push(this.props.posts[i]);\n          }\n        }\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-3 App-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(Profile, {\n          userid: sessionStorage.getItem(\"user\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-9 App-middle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(PostingList, {\n          posts: myPosts,\n          error: this.props.error,\n          isLoaded: this.props.isLoaded,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        })));\n      } else if (this.state.section === \"notification\") {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-2 col-2 App-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-8 col-7 App-middle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(NotificationList, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-md-2 col-3 App-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        })); // } else if (this.state.section === \"styleguide\") {\n        //   return (\n        //     <div>\n        //       <div className=\"col-md-2 col-2 App-left\"></div>\n        //       <div className=\"col-md-8 col-7 App-middle\">\n        //         <StyleGuide />\n        //       </div>\n        //       <div className=\"col-md-2 col-3 App-right\"></div>\n        //     </div>\n        //   );\n      } else {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \"Unidentified Section!\");\n      }\n    }\n  }\n\n}\n\nfunction setMenuOption(mode, maincontent, e) {\n  maincontent.current.setState({\n    section: mode\n  });\n}\n\nfunction toggleModal(app) {\n  app.setState({\n    openModal: !app.state.openModal\n  });\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loadPosts = () => {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/postcontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getConnectionPosts\",\n          userid: sessionStorage.getItem(\"user\"),\n          showuserposts: true\n        })\n      }).then(res => res.json()).then(result => {\n        // console.log(result)\n        if (result.posts) {\n          this.setState({\n            isLoaded: true,\n            posts: result.posts\n          });\n        }\n      }, error => {\n        this.setState({\n          isLoaded: true,\n          error: error\n        });\n      });\n      setTimeout(() => {\n        this.loadPosts();\n      }, 60000);\n    };\n\n    this.togglePage = toggle => {\n      this.setState({\n        page: toggle\n      });\n    };\n\n    this.state = {\n      openModal: false,\n      page: \"login\",\n      posts: [],\n      error: \"\",\n      isLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    this.loadPosts();\n  }\n\n  render() {\n    let mainContent = React.createRef();\n\n    let folioLogo = require(\"./logo.svg\");\n\n    let search = require(\"./Images/search.svg\");\n\n    let home = require(\"./Images/home.svg\");\n\n    let explore = require(\"./Images/explore.svg\");\n\n    let profile = require(\"./Images/profile.svg\");\n\n    let notification = require(\"./Images/notification.svg\"); // let styleguide = require(\"./Images/styleguide.svg\");\n\n\n    if (!sessionStorage.getItem(\"token\")) {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row App-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2 col-3 App-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-8 col-6 App-middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(SignUp, {\n        togglePage: this.togglePage,\n        loadPosts: this.loadPosts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2 col-3 App-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"row col-12 navbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"col-sm-2 col-md-3 col-6 folio-logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: folioLogo,\n        className: \"folio-img\",\n        onClick: e => setMenuOption(\"main\", mainContent, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-10 col-md-9 col-6 page-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"new-post-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"new-post\",\n        onClick: e => toggleModal(this, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"New Post\"))), React.createElement(\"li\", {\n        className: \" page-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: home,\n        className: \"button-icon\",\n        onClick: e => setMenuOption(\"main\", mainContent, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        className: \" page-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: explore,\n        className: \"button-icon\",\n        onClick: e => setMenuOption(\"explore\", mainContent, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        className: \"page-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: notification\n        /* Notification bell here ----------------------- */\n        ,\n        className: \"button-icon\",\n        onClick: e => setMenuOption(\"notification\", mainContent, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        className: \" page-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: profile,\n        className: \"button-icon\",\n        onClick: e => setMenuOption(\"profile\", mainContent, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"row App-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(MainContent, {\n        ref: mainContent,\n        posts: this.state.posts,\n        error: this.state.error,\n        isLoaded: this.state.isLoaded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }), React.createElement(PostForm, {\n        show: this.state.openModal,\n        onClose: e => toggleModal(this, e),\n        loadPosts: this.loadPosts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"fab\",\n        onClick: e => toggleModal(this, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, \"+\")));\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/anthonyhom/Documents/atam-web/src/App.js"],"names":["React","PostForm","FriendList","Profile","FriendForm","PostingList","SignUp","FirstTimeLogin","Settings","ExploreFilter","ExplorePostsList","NotificationList","MainContent","Component","constructor","props","togglePage","toggle","setState","section","getDname","fetch","method","body","JSON","stringify","action","userid","sessionStorage","getItem","then","res","json","result","users","name","dname","setItem","error","state","openModal","posts","isLoaded","render","myPosts","i","length","user_id","push","setMenuOption","mode","maincontent","e","current","toggleModal","app","App","loadPosts","showuserposts","setTimeout","page","componentDidMount","mainContent","createRef","folioLogo","require","search","home","explore","profile","notification"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport \"./css/navbar.css\";\nimport \"./css/fab.css\";\nimport PostForm from \"./Component/PostForm.js\";\nimport FriendList from \"./Component/FriendList.js\";\nimport Profile from \"./Component/Profile.js\";\nimport FriendForm from \"./Component/FriendForm.js\";\nimport PostingList from \"./Component/PostingList\";\nimport SignUp from \"./Component/SignUp\";\nimport FirstTimeLogin from \"./Component/FirstTimeLogin\";\n// import StyleGuide from \"./Component/StyleGuide\";\nimport Settings from \"./Component/Profile.js\";\nimport ExploreFilter from \"./Component/ExploreFilter\";\nimport ExplorePostsList from \"./Component/ExplorePostsList\";\nimport NotificationList from \"./Component/NotificationList.js\";\n\nclass MainContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      section: \"main\",\n      openModal: false,\n      dname: \"\",\n      posts: \"\",\n      error: \"\",\n      isLoaded: \"\",\n    };\n  }\n\n  togglePage = (toggle) => {\n    this.setState({ section: toggle });\n  };\n\n  getDname = () => {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUsers\",\n        userid: sessionStorage.getItem(\"user\"),\n      }),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          if (result.users[0].name !== null) {\n            this.setState({\n              dname: result.users[0].name,\n            });\n            sessionStorage.setItem(\"dname\", result.users[0].name);\n          }\n        },\n        (error) => {}\n      );\n  };\n\n  render() {\n    if (this.state.dname === \"\") {\n      this.getDname();\n    }\n    if (this.state.dname === \"\") {\n      return (\n        <div>\n          <div className=\"col-md-2 col-2 App-left\"></div>\n          <div className=\"col-md-8 col-7 App-middle\">\n            <FirstTimeLogin togglePage={this.togglePage} />\n          </div>\n          <div className=\"col-md-2 col-3 App-right\"></div>\n        </div>\n      );\n    } else {\n      if (this.state.section === \"main\") {\n        return (\n          <div>\n            <div className=\"col-md-2 col-2 App-left\"></div>\n            <div className=\"col-md-8 col-7 App-middle\">\n              <PostingList\n                posts={this.props.posts}\n                error={this.props.error}\n                isLoaded={this.props.isLoaded}\n              />\n            </div>\n            <div className=\"col-md-2 col-3 App-right\"></div>\n          </div>\n        );\n      } else if (this.state.section === \"explore\") {\n        return (\n          <div>\n            <div className=\"col-md-2 col-2 App-left\"></div>\n            <div className=\"col-md-12 col-10 App-middle\">\n              <ExploreFilter />\n            </div>\n          </div>\n        );\n      } else if (this.state.section === \"profile\") {\n        // FILTER OUT POSTS TO LOGGED IN USER\n        let myPosts = [];\n        for (var i = 0; i < this.props.posts.length; i++) {\n          if (this.props.posts[i].user_id === sessionStorage.getItem(\"user\")) {\n            myPosts.push(this.props.posts[i]);\n          }\n        }\n        return (\n          <div>\n            <div className=\"col-3 App-left\">\n              <Profile userid={sessionStorage.getItem(\"user\")} />\n            </div>\n            <div className=\"col-9 App-middle\">\n              <PostingList\n                posts={myPosts}\n                error={this.props.error}\n                isLoaded={this.props.isLoaded}\n              />\n            </div>\n          </div>\n        );\n      } else if (this.state.section === \"notification\") {\n        return (\n          <div>\n            <div className=\"col-md-2 col-2 App-left\"></div>\n            <div className=\"col-md-8 col-7 App-middle\">\n              <NotificationList />\n            </div>\n            <div className=\"col-md-2 col-3 App-right\"></div>\n          </div>\n        );\n        // } else if (this.state.section === \"styleguide\") {\n        //   return (\n        //     <div>\n        //       <div className=\"col-md-2 col-2 App-left\"></div>\n        //       <div className=\"col-md-8 col-7 App-middle\">\n        //         <StyleGuide />\n        //       </div>\n        //       <div className=\"col-md-2 col-3 App-right\"></div>\n        //     </div>\n        //   );\n      } else {\n        return <p>Unidentified Section!</p>;\n      }\n    }\n  }\n}\n\nfunction setMenuOption(mode, maincontent, e) {\n  maincontent.current.setState({\n    section: mode,\n  });\n}\n\nfunction toggleModal(app) {\n  app.setState({\n    openModal: !app.state.openModal,\n  });\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openModal: false,\n      page: \"login\",\n      posts: [],\n      error: \"\",\n      isLoaded: false,\n    };\n  }\n\n  componentDidMount() {\n    this.loadPosts();\n  }\n\n  loadPosts = () => {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/postcontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getConnectionPosts\",\n        userid: sessionStorage.getItem(\"user\"),\n        showuserposts: true,\n      }),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          // console.log(result)\n          if (result.posts) {\n            this.setState({\n              isLoaded: true,\n              posts: result.posts,\n            });\n          }\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error: error,\n          });\n        }\n      );\n    setTimeout(() => {\n      this.loadPosts();\n    }, 60000);\n  };\n\n  togglePage = (toggle) => {\n    this.setState({ page: toggle });\n  };\n\n  render() {\n    let mainContent = React.createRef();\n    let folioLogo = require(\"./logo.svg\");\n    let search = require(\"./Images/search.svg\");\n    let home = require(\"./Images/home.svg\");\n    let explore = require(\"./Images/explore.svg\");\n    let profile = require(\"./Images/profile.svg\");\n    let notification = require(\"./Images/notification.svg\");\n    // let styleguide = require(\"./Images/styleguide.svg\");\n\n    if (!sessionStorage.getItem(\"token\")) {\n      return (\n        <div className=\"App\">\n          <div className=\"row App-body\">\n            <div className=\"col-md-2 col-3 App-left\"></div>\n            <div className=\"col-md-8 col-6 App-middle\">\n              <SignUp togglePage={this.togglePage} loadPosts={this.loadPosts} />\n            </div>\n            <div className=\"col-md-2 col-3 App-right\"></div>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"App\">\n          <ul className=\"row col-12 navbar\">\n            {/* Folio Home Button */}\n            <li className=\"col-sm-2 col-md-3 col-6 folio-logo\">\n              <img\n                alt=\"\"\n                src={folioLogo}\n                className=\"folio-img\"\n                onClick={(e) => setMenuOption(\"main\", mainContent, e)}\n              />\n            </li>\n\n            {/* Search Bar\n            <div className=\"col-6 search-bar\">\n              <li className=\" search\">\n                <form>\n                  <input type=\"text\" placeholder=\"Search\"></input>\n                  <button type=\"submit\" className=\"search-button\">\n                    <img alt=\"\" src={search} className=\"search-icon\" />\n                  </button>\n                </form>\n              </li>\n            </div> */}\n\n            {/* New Post Button */}\n            <div className=\"col-sm-10 col-md-9 col-6 page-group\">\n              <li className=\"new-post-button\">\n                <button\n                  className=\"new-post\"\n                  onClick={(e) => toggleModal(this, e)}\n                >\n                  <span>New Post</span>\n                </button>\n              </li>\n\n              {/* Home Button */}\n              <li className=\" page-button\">\n                <img\n                  alt=\"\"\n                  src={home}\n                  className=\"button-icon\"\n                  onClick={(e) => setMenuOption(\"main\", mainContent, e)}\n                />\n              </li>\n\n              {/* Explore Page */}\n              <li className=\" page-button\">\n                <img\n                  alt=\"\"\n                  src={explore}\n                  className=\"button-icon\"\n                  onClick={(e) => setMenuOption(\"explore\", mainContent, e)}\n                />\n              </li>\n\n              {/* Notification Page */}\n              <li className=\"page-button\">\n                <img\n                  alt=\"\"\n                  src={\n                    notification\n                  } /* Notification bell here ----------------------- */\n                  className=\"button-icon\"\n                  onClick={(e) => setMenuOption(\"notification\", mainContent, e)}\n                />\n              </li>\n\n              {/* Profile Page */}\n              <li className=\" page-button\">\n                <img\n                  alt=\"\"\n                  src={profile}\n                  className=\"button-icon\"\n                  onClick={(e) => setMenuOption(\"profile\", mainContent, e)}\n                />\n              </li>\n            </div>\n          </ul>\n          <div className=\"row App-body\">\n            <MainContent\n              ref={mainContent}\n              posts={this.state.posts}\n              error={this.state.error}\n              isLoaded={this.state.isLoaded}\n            />\n            <PostForm\n              show={this.state.openModal}\n              onClose={(e) => toggleModal(this, e)}\n              loadPosts={this.loadPosts}\n            />\n            <div className=\"fab\" onClick={(e) => toggleModal(this, e)}>\n              +\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}