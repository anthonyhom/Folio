{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyhom/Documents/atam-web/src/App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport \"./css/navbar.css\";\nimport \"./css/fab.css\";\nimport PostForm from \"./Component/PostForm.js\";\nimport Profile from \"./Component/Profile.js\";\nimport PostingList from \"./Component/PostingList\";\nimport SignUp from \"./Component/SignUp\";\nimport FirstTimeLogin from \"./Component/FirstTimeLogin\"; // import StyleGuide from \"./Component/StyleGuide\";\n\nimport Settings from \"./Component/Profile.js\";\nimport ExploreFilter from \"./Component/ExploreFilter\";\nimport ExplorePostsList from \"./Component/ExplorePostsList\";\nimport NotificationList from \"./Component/NotificationList.js\";\n\nclass MainContent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.togglePage = toggle => {\n      this.setState({\n        section: toggle\n      });\n    };\n\n    this.getDname = () => {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getUsers\",\n          userid: sessionStorage.getItem(\"user\"),\n          user_id: sessionStorage.getItem(\"user\")\n        })\n      }).then(res => res.json()).then(result => {\n        console.log(\"this is getUsers\", result);\n\n        if (result.users[0].name !== null) {\n          this.setState({\n            dname: result.users[0].name\n          });\n          sessionStorage.setItem(\"dname\", result.users[0].name);\n        }\n      });\n    };\n\n    this.state = {\n      section: \"main\",\n      openModal: false,\n      dname: \"\",\n      posts: \"\",\n      error: \"\",\n      isLoaded: \"\"\n    };\n  }\n\n  render() {\n    if (this.state.dname === \"\") {\n      this.getDname();\n    }\n\n    if (this.state.dname === \"\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2 col-1 App-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-8 col-10 App-middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(FirstTimeLogin, {\n        togglePage: this.togglePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2 col-1 App-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }));\n    } else {\n      if (this.state.section === \"main\") {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-2 col-2 App-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-8 col-7 App-middle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(PostingList, {\n          posts: this.props.posts,\n          error: this.props.error,\n          isLoaded: this.props.isLoaded,\n          onMain: \"main\",\n          notifcount: this.props.notifcount,\n          notificationid: this.props.notificationid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-md-2 col-3 App-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }));\n      } else if (this.state.section === \"explore\") {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-2 col-2 App-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-12 col-10 App-middle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(ExploreFilter, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        })));\n      } else if (this.state.section === \"profile\") {\n        // FILTER OUT POSTS TO LOGGED IN USER\n        let myPosts = [];\n\n        for (var i = 0; i < this.props.posts.length; i++) {\n          if (this.props.posts[i].user_id === sessionStorage.getItem(\"user\")) {\n            myPosts.push(this.props.posts[i]);\n          }\n        }\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-3 App-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(Profile, {\n          userid: sessionStorage.getItem(\"user\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-9 App-middle profile-posts\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(PostingList, {\n          posts: myPosts,\n          error: this.props.error,\n          isLoaded: this.props.isLoaded,\n          onMain: \"profile\",\n          notifcount: this.props.notifcount,\n          notificationid: this.props.notificationid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        })));\n      } else if (this.state.section === \"notification\") {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-2 col-2 App-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-8 col-7 App-middle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(NotificationList, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-md-2 col-3 App-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        })); // } else if (this.state.section === \"styleguide\") {\n        //   return (\n        //     <div>\n        //       <div className=\"col-md-2 col-2 App-left\"></div>\n        //       <div className=\"col-md-8 col-7 App-middle\">\n        //         <StyleGuide />\n        //       </div>\n        //       <div className=\"col-md-2 col-3 App-right\"></div>\n        //     </div>\n        //   );\n      } else {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, \"Unidentified Section!\");\n      }\n    }\n  }\n\n}\n\nfunction setMenuOption(mode, maincontent, e) {\n  maincontent.current.setState({\n    section: mode\n  });\n}\n\nfunction toggleModal(app) {\n  app.setState({\n    openModal: !app.state.openModal\n  });\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loadPosts = () => {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/postcontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getConnectionPosts\",\n          userid: sessionStorage.getItem(\"user\"),\n          showuserposts: true\n        })\n      }).then(res => res.json()).then(result => {\n        // console.log(result)\n        if (result.posts) {\n          this.setState({\n            isLoaded: true,\n            posts: result.posts\n          });\n        }\n      }, error => {\n        this.setState({\n          isLoaded: true,\n          error: error\n        });\n      });\n      setTimeout(() => {\n        this.loadPosts();\n      }, 60000);\n    };\n\n    this.loadNotificationCount = () => {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getUserArtifacts\",\n          userid: sessionStorage.getItem(\"user\"),\n          artifactcategory: \"Notificationcount\"\n        })\n      }).then(res => res.json()).then(result => {\n        // console.log(result)\n        if (result.user_artifacts) {\n          //supposed to change something here.\n          this.setState({\n            notifcount: result.user_artifacts[0].artifact_url,\n            notificationid: result.user_artifacts[0].artifact_id\n          });\n        }\n      }, error => {\n        this.setState({\n          //something has to change here.\n          error: error\n        });\n      });\n      setTimeout(() => {\n        this.loadNotificationCount();\n      }, 5000);\n    };\n\n    this.togglePage = toggle => {\n      this.setState({\n        page: toggle\n      });\n    };\n\n    this.state = {\n      openModal: false,\n      page: \"login\",\n      posts: [],\n      error: \"\",\n      isLoaded: false,\n      notifcount: \"0\",\n      notificationid: \"0\"\n    };\n  }\n\n  componentDidMount() {\n    this.loadPosts();\n    this.loadNotificationCount();\n    this.clearNotifs();\n  }\n\n  clearNotifs(e) {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"addOrEditUserArtifacts\",\n        user_id: sessionStorage.getItem(\"user\"),\n        session_token: sessionStorage.getItem(\"token\"),\n        userid: sessionStorage.getItem(\"user\"),\n        artifactcategory: \"Notificationcount\",\n        artifacturl: 0,\n        artifactid: this.state.notificationid\n      })\n    }).then(res => res.json()).then(result => {\n      if (result.user_artifacts) {\n        this.setState({\n          notifications: result.user_artifacts,\n          notifcount: 0\n        });\n      }\n    });\n  }\n\n  render() {\n    console.log(\"count: \" + this.state.notifcount);\n    console.log(\"id\" + this.state.notificationid);\n    let mainContent = React.createRef();\n\n    let folioLogo = require(\"./logo.svg\");\n\n    let search = require(\"./Images/search.svg\");\n\n    let home = require(\"./Images/home.svg\");\n\n    let explore = require(\"./Images/explore.svg\");\n\n    let profile = require(\"./Images/profile.svg\");\n\n    let notification = require(\"./Images/notification.svg\"); // let styleguide = require(\"./Images/styleguide.svg\");\n\n\n    if (!sessionStorage.getItem(\"token\")) {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row App-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2 col-3 App-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-8 col-6 App-middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, React.createElement(SignUp, {\n        togglePage: this.togglePage,\n        loadPosts: this.loadPosts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2 col-3 App-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"row col-12 navbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"col-sm-2 col-md-3 col-6 folio-logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: folioLogo,\n        className: \"folio-img\",\n        onClick: e => setMenuOption(\"main\", mainContent, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-10 col-md-9 col-6 page-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"new-post-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"new-post\",\n        onClick: e => toggleModal(this, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, \"New Post\"))), React.createElement(\"li\", {\n        className: \" page-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: home,\n        className: \"button-icon\",\n        onClick: e => setMenuOption(\"main\", mainContent, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        className: \" page-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: explore,\n        className: \"button-icon\",\n        onClick: e => setMenuOption(\"explore\", mainContent, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        className: \"page-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: notification\n        /* Notification bell here ----------------------- */\n        ,\n        className: \"button-icon\",\n        onClick: e => {\n          setMenuOption(\"notification\", mainContent, e);\n          this.clearNotifs(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"badge\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, this.state.notifcount)), React.createElement(\"li\", {\n        className: \" page-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        src: profile,\n        className: \"button-icon\",\n        onClick: e => setMenuOption(\"profile\", mainContent, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"row App-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(MainContent, {\n        ref: mainContent,\n        posts: this.state.posts,\n        error: this.state.error,\n        isLoaded: this.state.isLoaded,\n        notifcount: this.state.notifcount,\n        notificationid: this.state.notificationid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }), React.createElement(PostForm, {\n        show: this.state.openModal,\n        onClose: e => toggleModal(this, e),\n        loadPosts: this.loadPosts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"fab\",\n        onClick: e => toggleModal(this, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, \"+\")));\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/anthonyhom/Documents/atam-web/src/App.js"],"names":["React","PostForm","Profile","PostingList","SignUp","FirstTimeLogin","Settings","ExploreFilter","ExplorePostsList","NotificationList","MainContent","Component","constructor","props","togglePage","toggle","setState","section","getDname","fetch","method","body","JSON","stringify","action","userid","sessionStorage","getItem","user_id","then","res","json","result","console","log","users","name","dname","setItem","state","openModal","posts","error","isLoaded","render","notifcount","notificationid","myPosts","i","length","push","setMenuOption","mode","maincontent","e","current","toggleModal","app","App","loadPosts","showuserposts","setTimeout","loadNotificationCount","artifactcategory","user_artifacts","artifact_url","artifact_id","page","componentDidMount","clearNotifs","session_token","artifacturl","artifactid","notifications","mainContent","createRef","folioLogo","require","search","home","explore","profile","notification"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport \"./css/navbar.css\";\nimport \"./css/fab.css\";\nimport PostForm from \"./Component/PostForm.js\";\nimport Profile from \"./Component/Profile.js\";\nimport PostingList from \"./Component/PostingList\";\nimport SignUp from \"./Component/SignUp\";\nimport FirstTimeLogin from \"./Component/FirstTimeLogin\";\n// import StyleGuide from \"./Component/StyleGuide\";\nimport Settings from \"./Component/Profile.js\";\nimport ExploreFilter from \"./Component/ExploreFilter\";\nimport ExplorePostsList from \"./Component/ExplorePostsList\";\nimport NotificationList from \"./Component/NotificationList.js\";\n\nclass MainContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      section: \"main\",\n      openModal: false,\n      dname: \"\",\n      posts: \"\",\n      error: \"\",\n      isLoaded: \"\",\n    };\n  }\n\n  togglePage = (toggle) => {\n    this.setState({ section: toggle });\n  };\n\n  getDname = () => {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUsers\",\n        userid: sessionStorage.getItem(\"user\"),\n        user_id: sessionStorage.getItem(\"user\"),\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(\"this is getUsers\", result);\n        if (result.users[0].name !== null) {\n          this.setState({\n            dname: result.users[0].name,\n          });\n          sessionStorage.setItem(\"dname\", result.users[0].name);\n        }\n      });\n  };\n\n  render() {\n    if (this.state.dname === \"\") {\n      this.getDname();\n    }\n    if (this.state.dname === \"\") {\n      return (\n        <div>\n          <div className=\"col-md-2 col-1 App-left\"></div>\n          <div className=\"col-md-8 col-10 App-middle\">\n            <FirstTimeLogin togglePage={this.togglePage} />\n          </div>\n          <div className=\"col-md-2 col-1 App-right\"></div>\n        </div>\n      );\n    } else {\n      if (this.state.section === \"main\") {\n        return (\n          <div>\n            <div className=\"col-md-2 col-2 App-left\"></div>\n            <div className=\"col-md-8 col-7 App-middle\">\n              <PostingList\n                posts={this.props.posts}\n                error={this.props.error}\n                isLoaded={this.props.isLoaded}\n                onMain={\"main\"}\n                notifcount={this.props.notifcount}\n                notificationid={this.props.notificationid}\n              />\n            </div>\n            <div className=\"col-md-2 col-3 App-right\"></div>\n          </div>\n        );\n      } else if (this.state.section === \"explore\") {\n        return (\n          <div>\n            <div className=\"col-md-2 col-2 App-left\"></div>\n            <div className=\"col-md-12 col-10 App-middle\">\n              <ExploreFilter />\n            </div>\n          </div>\n        );\n      } else if (this.state.section === \"profile\") {\n        // FILTER OUT POSTS TO LOGGED IN USER\n        let myPosts = [];\n        for (var i = 0; i < this.props.posts.length; i++) {\n          if (this.props.posts[i].user_id === sessionStorage.getItem(\"user\")) {\n            myPosts.push(this.props.posts[i]);\n          }\n        }\n        return (\n          <div>\n            <div className=\"col-3 App-left\">\n              <Profile userid={sessionStorage.getItem(\"user\")} />\n            </div>\n            <div className=\"col-9 App-middle profile-posts\">\n              <PostingList\n                posts={myPosts}\n                error={this.props.error}\n                isLoaded={this.props.isLoaded}\n                onMain={\"profile\"}\n                notifcount={this.props.notifcount}\n                notificationid={this.props.notificationid}\n              />\n            </div>\n          </div>\n        );\n      } else if (this.state.section === \"notification\") {\n        return (\n          <div>\n            <div className=\"col-md-2 col-2 App-left\"></div>\n            <div className=\"col-md-8 col-7 App-middle\">\n              <NotificationList />\n            </div>\n            <div className=\"col-md-2 col-3 App-right\"></div>\n          </div>\n        );\n        // } else if (this.state.section === \"styleguide\") {\n        //   return (\n        //     <div>\n        //       <div className=\"col-md-2 col-2 App-left\"></div>\n        //       <div className=\"col-md-8 col-7 App-middle\">\n        //         <StyleGuide />\n        //       </div>\n        //       <div className=\"col-md-2 col-3 App-right\"></div>\n        //     </div>\n        //   );\n      } else {\n        return <p>Unidentified Section!</p>;\n      }\n    }\n  }\n}\n\nfunction setMenuOption(mode, maincontent, e) {\n  maincontent.current.setState({\n    section: mode,\n  });\n}\n\nfunction toggleModal(app) {\n  app.setState({\n    openModal: !app.state.openModal,\n  });\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openModal: false,\n      page: \"login\",\n      posts: [],\n      error: \"\",\n      isLoaded: false,\n      notifcount: \"0\",\n      notificationid: \"0\",\n    };\n  }\n\n  componentDidMount() {\n    this.loadPosts();\n    this.loadNotificationCount();\n    this.clearNotifs();\n  }\n\n  loadPosts = () => {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/postcontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getConnectionPosts\",\n        userid: sessionStorage.getItem(\"user\"),\n        showuserposts: true,\n      }),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          // console.log(result)\n          if (result.posts) {\n            this.setState({\n              isLoaded: true,\n              posts: result.posts,\n            });\n          }\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error: error,\n          });\n        }\n      );\n    setTimeout(() => {\n      this.loadPosts();\n    }, 60000);\n  };\n  // ----------------------------------Notification Stuff ----------------------------------------------------------\n  loadNotificationCount = () => {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUserArtifacts\",\n        userid: sessionStorage.getItem(\"user\"),\n        artifactcategory: \"Notificationcount\",\n      }),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          // console.log(result)\n          if (result.user_artifacts) {\n            //supposed to change something here.\n            this.setState({\n              notifcount: result.user_artifacts[0].artifact_url,\n              notificationid: result.user_artifacts[0].artifact_id,\n            });\n          }\n        },\n        (error) => {\n          this.setState({\n            //something has to change here.\n            error: error,\n          });\n        }\n      );\n    setTimeout(() => {\n      this.loadNotificationCount();\n    }, 5000);\n  };\n  // ----------------------------------Notification Stuff ----------------------------------------------------------\n  togglePage = (toggle) => {\n    this.setState({ page: toggle });\n  };\n  clearNotifs(e) {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"addOrEditUserArtifacts\",\n        user_id: sessionStorage.getItem(\"user\"),\n        session_token: sessionStorage.getItem(\"token\"),\n        userid: sessionStorage.getItem(\"user\"),\n\n        artifactcategory: \"Notificationcount\",\n        artifacturl: 0,\n        artifactid: this.state.notificationid,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.user_artifacts) {\n          this.setState({\n            notifications: result.user_artifacts,\n            notifcount: 0,\n          });\n        }\n      });\n  }\n  render() {\n    console.log(\"count: \" + this.state.notifcount);\n    console.log(\"id\" + this.state.notificationid);\n    let mainContent = React.createRef();\n    let folioLogo = require(\"./logo.svg\");\n    let search = require(\"./Images/search.svg\");\n    let home = require(\"./Images/home.svg\");\n    let explore = require(\"./Images/explore.svg\");\n    let profile = require(\"./Images/profile.svg\");\n    let notification = require(\"./Images/notification.svg\");\n    // let styleguide = require(\"./Images/styleguide.svg\");\n\n    if (!sessionStorage.getItem(\"token\")) {\n      return (\n        <div className=\"App\">\n          <div className=\"row App-body\">\n            <div className=\"col-md-2 col-3 App-left\"></div>\n            <div className=\"col-md-8 col-6 App-middle\">\n              <SignUp togglePage={this.togglePage} loadPosts={this.loadPosts} />\n            </div>\n            <div className=\"col-md-2 col-3 App-right\"></div>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"App\">\n          <ul className=\"row col-12 navbar\">\n            {/* Folio Home Button */}\n            <li className=\"col-sm-2 col-md-3 col-6 folio-logo\">\n              <img\n                alt=\"\"\n                src={folioLogo}\n                className=\"folio-img\"\n                onClick={(e) => setMenuOption(\"main\", mainContent, e)}\n              />\n            </li>\n\n            {/* Search Bar\n            <div className=\"col-6 search-bar\">\n              <li className=\" search\">\n                <form>\n                  <input type=\"text\" placeholder=\"Search\"></input>\n                  <button type=\"submit\" className=\"search-button\">\n                    <img alt=\"\" src={search} className=\"search-icon\" />\n                  </button>\n                </form>\n              </li>\n            </div> */}\n\n            {/* New Post Button */}\n            <div className=\"col-sm-10 col-md-9 col-6 page-group\">\n              <li className=\"new-post-button\">\n                <button\n                  className=\"new-post\"\n                  onClick={(e) => toggleModal(this, e)}\n                >\n                  <span>New Post</span>\n                </button>\n              </li>\n\n              {/* Home Button */}\n              <li className=\" page-button\">\n                <img\n                  alt=\"\"\n                  src={home}\n                  className=\"button-icon\"\n                  onClick={(e) => setMenuOption(\"main\", mainContent, e)}\n                />\n              </li>\n\n              {/* Explore Page */}\n              <li className=\" page-button\">\n                <img\n                  alt=\"\"\n                  src={explore}\n                  className=\"button-icon\"\n                  onClick={(e) => setMenuOption(\"explore\", mainContent, e)}\n                />\n              </li>\n\n              {/* Notification Page */}\n              <li className=\"page-button\">\n                <img\n                  alt=\"\"\n                  src={\n                    notification\n                  } /* Notification bell here ----------------------- */\n                  className=\"button-icon\"\n                  onClick={(e) => {\n                    setMenuOption(\"notification\", mainContent, e);\n                    this.clearNotifs(e);\n                  }}\n                />\n                <p className=\"badge\">{this.state.notifcount}</p>\n              </li>\n\n              {/* Profile Page */}\n              <li className=\" page-button\">\n                <img\n                  alt=\"\"\n                  src={profile}\n                  className=\"button-icon\"\n                  onClick={(e) => setMenuOption(\"profile\", mainContent, e)}\n                />\n              </li>\n            </div>\n          </ul>\n          <div className=\"row App-body\">\n            <MainContent\n              ref={mainContent}\n              posts={this.state.posts}\n              error={this.state.error}\n              isLoaded={this.state.isLoaded}\n              notifcount={this.state.notifcount}\n              notificationid={this.state.notificationid}\n            />\n            <PostForm\n              show={this.state.openModal}\n              onClose={(e) => toggleModal(this, e)}\n              loadPosts={this.loadPosts}\n            />\n            <div className=\"fab\" onClick={(e) => toggleModal(this, e)}>\n              +\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}