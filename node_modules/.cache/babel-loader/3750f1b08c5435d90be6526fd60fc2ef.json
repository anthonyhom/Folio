{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyhom/Documents/atam-web/src/Component/ExPosts.js\";\nimport React from \"react\";\nimport \"../App.css\";\nimport CommentForm from \"./CommentForm.js\";\nimport ProfileModal from \"./ProfileModal\";\nexport default class ExPost extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showModal = e => {\n      this.setState({\n        showModal: !this.state.showModal\n      });\n    };\n\n    this.showProfileModal = e => {\n      if (sessionStorage.getItem(\"user\") !== this.props.post.user_id) {\n        this.setState({\n          showProfile: !this.state.showProfile\n        });\n      }\n    };\n\n    this.setCommentCount = newcount => {\n      this.setState({\n        comments: newcount\n      });\n    };\n\n    this.getTitle = () => {\n      var separator = this.props.post.post_text.indexOf(\"~@~\");\n      this.state.title = this.props.post.post_text.substring(0, separator);\n      return this.state.title;\n    };\n\n    this.getCaption = () => {\n      var titleSep = this.props.post.post_text.indexOf(\"~@~\");\n      var collabSep = this.props.post.post_text.indexOf(\"~*~\");\n\n      if (collabSep !== -1) {\n        //Some Collabs\n        this.state.caption = this.props.post.post_text.substring(titleSep + 3, collabSep);\n        return this.state.caption;\n      } else {\n        //No collabs\n        this.state.caption = this.props.post.post_text.substring(titleSep + 3, this.props.post.post_text.length);\n        return this.state.caption;\n      }\n    };\n\n    this.getCollab = () => {\n      var collabSep = this.props.post.post_text.indexOf(\"~*~\");\n\n      if (collabSep !== -1) {\n        //Some Collabs\n        this.state.collab = this.props.post.post_text.substring(collabSep + 3, this.props.post.post_text.length);\n        return this.state.collab;\n      } else {\n        //No collabs\n        return \"\";\n      }\n    };\n\n    this.state = {\n      showModal: false,\n      comments: this.props.post.comment_flag,\n      title: \"\",\n      caption: \"\",\n      showProfile: false\n    };\n    this.post = React.createRef();\n  }\n\n  getCommentCount() {\n    if (!this.state.comments || this.state.comments === \"0\") {\n      return 0;\n    }\n\n    return parseInt(this.state.comments);\n  }\n\n  showHideComments() {\n    if (this.state.showModal) {\n      return \"comments show\";\n    }\n\n    return \"comments hide\";\n  }\n\n  conditionalDisplay() {\n    console.log(\"Parent is \" + this.props.post.parent_id);\n\n    if (this.props.post.parent_id) {\n      return \"\";\n    } else {\n      return React.createElement(\"div\", {\n        className: \"comment-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"comment-indicator\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"comment-indicator-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, this.getCommentCount(), \" Comments\"), React.createElement(\"img\", {\n        src: require(\"../Images/comment.svg\"),\n        className: \"comment-icon\",\n        onClick: e => this.showModal(),\n        alt: \"View Comments\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: this.showHideComments(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(CommentForm, {\n        onAddComment: this.setCommentCount,\n        parent: this.props.post.post_id,\n        commentCount: this.getCommentCount(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })));\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" row card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: this.props.post.user_id === sessionStorage.getItem(\"user\") ? \"my-username\" : \"username\",\n      onClick: e => this.showProfileModal(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.props.post.name)), React.createElement(\"div\", {\n      className: \"row card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"post-img\",\n      src: !this.props.post.post_pic_url ? require(\"../Images/defaultPic.jpg\") : this.props.post.post_pic_url,\n      alt: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" row title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, this.getTitle())), React.createElement(\"div\", {\n      className: \"caption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.getCaption()))), React.createElement(\"div\", {\n      className: \"row card-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"# \"), this.props.post.post_type))), React.createElement(ProfileModal, {\n      show: this.state.showProfile,\n      onClose: e => this.showProfileModal(e),\n      userid: this.props.post.user_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/anthonyhom/Documents/atam-web/src/Component/ExPosts.js"],"names":["React","CommentForm","ProfileModal","ExPost","Component","constructor","props","showModal","e","setState","state","showProfileModal","sessionStorage","getItem","post","user_id","showProfile","setCommentCount","newcount","comments","getTitle","separator","post_text","indexOf","title","substring","getCaption","titleSep","collabSep","caption","length","getCollab","collab","comment_flag","createRef","getCommentCount","parseInt","showHideComments","conditionalDisplay","console","log","parent_id","require","post_id","render","name","post_pic_url","post_type"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../App.css\";\nimport CommentForm from \"./CommentForm.js\";\nimport ProfileModal from \"./ProfileModal\";\n\nexport default class ExPost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      comments: this.props.post.comment_flag,\n      title: \"\",\n      caption: \"\",\n      showProfile: false,\n    };\n    this.post = React.createRef();\n  }\n\n  showModal = (e) => {\n    this.setState({\n      showModal: !this.state.showModal,\n    });\n  };\n\n  showProfileModal = (e) => {\n    if (sessionStorage.getItem(\"user\") !== this.props.post.user_id) {\n      this.setState({\n        showProfile: !this.state.showProfile,\n      });\n    }\n  };\n\n  setCommentCount = (newcount) => {\n    this.setState({\n      comments: newcount,\n    });\n  };\n\n  getCommentCount() {\n    if (!this.state.comments || this.state.comments === \"0\") {\n      return 0;\n    }\n    return parseInt(this.state.comments);\n  }\n\n  showHideComments() {\n    if (this.state.showModal) {\n      return \"comments show\";\n    }\n    return \"comments hide\";\n  }\n\n  conditionalDisplay() {\n    console.log(\"Parent is \" + this.props.post.parent_id);\n    if (this.props.post.parent_id) {\n      return \"\";\n    } else {\n      return (\n        <div className=\"comment-block\">\n          <div className=\"comment-indicator\">\n            <div className=\"comment-indicator-text\">\n              {this.getCommentCount()} Comments\n            </div>\n            <img\n              src={require(\"../Images/comment.svg\")}\n              className=\"comment-icon\"\n              onClick={(e) => this.showModal()}\n              alt=\"View Comments\"\n            />\n          </div>\n          <div className={this.showHideComments()}>\n            <CommentForm\n              onAddComment={this.setCommentCount}\n              parent={this.props.post.post_id}\n              commentCount={this.getCommentCount()}\n            />\n          </div>\n        </div>\n      );\n    }\n  }\n\n  getTitle = () => {\n    var separator = this.props.post.post_text.indexOf(\"~@~\");\n    this.state.title = this.props.post.post_text.substring(0, separator);\n    return this.state.title;\n  };\n\n  getCaption = () => {\n    var titleSep = this.props.post.post_text.indexOf(\"~@~\");\n    var collabSep = this.props.post.post_text.indexOf(\"~*~\");\n    if (collabSep !== -1) {\n      //Some Collabs\n      this.state.caption = this.props.post.post_text.substring(\n        titleSep + 3,\n        collabSep\n      );\n      return this.state.caption;\n    } else {\n      //No collabs\n      this.state.caption = this.props.post.post_text.substring(\n        titleSep + 3,\n        this.props.post.post_text.length\n      );\n      return this.state.caption;\n    }\n  };\n\n  getCollab = () => {\n    var collabSep = this.props.post.post_text.indexOf(\"~*~\");\n    if (collabSep !== -1) {\n      //Some Collabs\n      this.state.collab = this.props.post.post_text.substring(\n        collabSep + 3,\n        this.props.post.post_text.length\n      );\n      return this.state.collab;\n    } else {\n      //No collabs\n      return \"\";\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\" row card-header\">\n          <div\n            className={\n              this.props.post.user_id === sessionStorage.getItem(\"user\")\n                ? \"my-username\"\n                : \"username\"\n            }\n            onClick={(e) => this.showProfileModal(e)}\n          >\n            {this.props.post.name}\n          </div>\n        </div>\n        <div className=\"row card-body\">\n          <img\n            className=\"post-img\"\n            src={\n              !this.props.post.post_pic_url\n                ? require(\"../Images/defaultPic.jpg\")\n                : this.props.post.post_pic_url\n            }\n            alt=\"post\"\n          />\n          <div className=\" row title\">\n            <h4>{this.getTitle()}</h4>\n          </div>\n          <div className=\"caption\">\n            <p>{this.getCaption()}</p>\n          </div>\n        </div>\n        <div className=\"row card-footer\">\n          <div className=\"tag\">\n            <p>\n              <b># </b>\n              {this.props.post.post_type}\n            </p>\n          </div>\n        </div>\n        <ProfileModal\n          show={this.state.showProfile}\n          onClose={(e) => this.showProfileModal(e)}\n          userid={this.props.post.user_id}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}