{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyhom/Documents/atam-web/src/Component/PostingList.js\";\nimport React from \"react\";\nimport Post from \"./Post.js\";\nimport SuggestionCard from \"./SuggestionCard.js\";\nimport \"../css/suggestedusers.css\";\nimport \"../css/suggestiongrid.css\";\nexport default class PostingList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.checkConnections = () => {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getConnections\",\n          userid: sessionStorage.getItem(\"user\")\n        })\n      }).then(res => res.json()).then(result => {\n        if (result.connections !== undefined) {\n          this.setState({\n            hasConnections: true\n          });\n        }\n      });\n    };\n\n    this.changeButton = (button, buttonState) => {\n      if (buttonState === \"Follow\") {\n        if (button === \"u1Status\") {\n          this.setState({\n            u1Status: \"Unfollow\"\n          });\n        } else if (button === \"u2Status\") {\n          this.setState({\n            u2Status: \"Unfollow\"\n          });\n        }\n\n        if (button === \"u3Status\") {\n          this.setState({\n            u3Status: \"Unfollow\"\n          });\n        }\n      } else if (buttonState === \"Unfollow\") {\n        if (button === \"u1Status\") {\n          this.setState({\n            u1Status: \"Follow\"\n          });\n        } else if (button === \"u2Status\") {\n          this.setState({\n            u2Status: \"Follow\"\n          });\n        }\n\n        if (button === \"u3Status\") {\n          this.setState({\n            u3Status: \"Follow\"\n          });\n        }\n      }\n    };\n\n    this.changeConnection = e => {\n      if (this.state.u1Status === \"Unfollow\") {\n        // console.log(\"HERE\");\n        fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\", {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"getConnections\",\n            userid: sessionStorage.getItem(\"user\"),\n            connectuserid: 450\n          })\n        }).then(res => res.json()).then(result => {\n          if (!result.connections) {\n            return fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\", {\n              method: \"post\",\n              body: JSON.stringify({\n                action: \"addOrEditConnections\",\n                user_id: sessionStorage.getItem(\"user\"),\n                session_token: sessionStorage.getItem(\"token\"),\n                userid: sessionStorage.getItem(\"user\"),\n                connectuserid: 450\n              })\n            }).then(res => res.json()).then(result => {\n              if (result.Status.includes(\"SUCCESS\")) {\n                window.location.reload(false);\n              }\n            });\n          }\n        });\n      }\n\n      if (this.state.u2Status === \"Unfollow\") {\n        fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\", {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"getConnections\",\n            userid: sessionStorage.getItem(\"user\"),\n            connectuserid: 439\n          })\n        }).then(res => res.json()).then(result => {\n          if (!result.connections) {\n            return fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\", {\n              method: \"post\",\n              body: JSON.stringify({\n                action: \"addOrEditConnections\",\n                user_id: sessionStorage.getItem(\"user\"),\n                session_token: sessionStorage.getItem(\"token\"),\n                userid: sessionStorage.getItem(\"user\"),\n                connectuserid: 439\n              })\n            }).then(res => res.json()).then(result => {\n              if (result.Status.includes(\"SUCCESS\")) {\n                window.location.reload(false);\n              }\n            });\n          }\n        });\n      }\n\n      if (this.state.u3Status === \"Unfollow\") {\n        fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\", {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"getConnections\",\n            userid: sessionStorage.getItem(\"user\"),\n            connectuserid: 440\n          })\n        }).then(res => res.json()).then(result => {\n          if (!result.connections) {\n            return fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\", {\n              method: \"post\",\n              body: JSON.stringify({\n                action: \"addOrEditConnections\",\n                user_id: sessionStorage.getItem(\"user\"),\n                session_token: sessionStorage.getItem(\"token\"),\n                userid: sessionStorage.getItem(\"user\"),\n                connectuserid: 440\n              })\n            }).then(res => res.json()).then(result => {\n              if (result.Status.includes(\"SUCCESS\")) {\n                window.location.reload(false);\n              }\n            });\n          }\n        });\n      }\n    };\n\n    this.state = {\n      error: null,\n      comments: [],\n      hasConnections: false,\n      u1Status: \"Follow\",\n      u2Status: \"Follow\",\n      u3Status: \"Follow\",\n      success: false\n    };\n  }\n\n  render() {\n    //this.loadPosts();\n    const {\n      error,\n      isLoaded,\n      posts\n    } = this.props;\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \" Error: \", error.message, \" \");\n    } else if (this.state.hasConnections === false && this.props.onMain === \"main\") {\n      this.checkConnections();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"You are currently not following anyone. \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), \" Here are some suggested users to follow:\"), React.createElement(\"div\", {\n        className: \"suggested-user-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-pic-container\",\n        style: {\n          margin: \"15px\",\n          border: \"1px solid #dbdbdb\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"profile-pic\",\n        src: \"https://image.shutterstock.com/image-photo/portrait-photo-person-project-concept-260nw-507830914.jpg\",\n        alt: \"post\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"sug-user-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Jon Smith\"), React.createElement(\"div\", {\n        className: \"sug-bio\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Hello! My name is Jon Smith. I am a programmer currently employed at Microsoft. I like to make websites, and have been working on web dev for 5 years now. I hope you guys enjoy some of my work here!\")), React.createElement(\"div\", {\n        className: \"sugg-btn-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"sugg-btn\",\n        onClick: () => this.changeButton(\"u1Status\", this.state.u1Status),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, this.state.u1Status)))), React.createElement(\"div\", {\n        className: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-pic-container\",\n        style: {\n          margin: \"15px\",\n          border: \"1px solid #dbdbdb\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"profile-pic\",\n        src: \"https://t4.ftcdn.net/jpg/02/89/99/33/240_F_289993382_QJID0KDhWhwp8JX3llcoD8V9jDKAZnpq.jpg\",\n        alt: \"post\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"sug-user-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"Tessa Samson\"), React.createElement(\"div\", {\n        className: \"sug-bio\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Hello! My name is Tessa! I make music! I am a Music teacher at an Elementary School. I love to explore different genres of music and create unique sounding songs.\")), React.createElement(\"div\", {\n        className: \"sugg-btn-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"sugg-btn\",\n        onClick: () => this.changeButton(\"u2Status\", this.state.u2Status),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, this.state.u2Status)))), React.createElement(\"div\", {\n        className: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-pic-container\",\n        style: {\n          margin: \"15px\",\n          border: \"1px solid #dbdbdb\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"profile-pic\",\n        src: \"https://media.gettyimages.com/photos/portrait-of-japanese-man-picture-id650171629\",\n        alt: \"post\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"sug-user-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, \"Suki Ryo\"), React.createElement(\"div\", {\n        className: \"sug-bio\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, \"Hello! I am Suki. I am a Japanese Filmaker and I enjoy exploring the Horror Genre. I have released many indie films in the past and am looking to continue working on larger projects. I hope you like what I have worked on!\")), React.createElement(\"div\", {\n        className: \"sugg-btn-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"sugg-btn\",\n        onClick: () => this.changeButton(\"u3Status\", this.state.u3Status),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, this.state.u3Status))))), React.createElement(\"button\", {\n        className: \"confirm-btn\",\n        onClick: e => this.changeConnection(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \"Let's Start!\")));\n    } else if (!isLoaded) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, \" \");\n    } else if (this.props.type == \"comment\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, this.state.comments.map(post => React.createElement(Post, {\n        key: post.post_id,\n        post: post,\n        notifcount: this.props.notifcount,\n        notificationid: this.props.notificationid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      })));\n    } else {\n      // this.getTitle(125);\n      // console.log(this.state.title);\n      // var titles = [];\n      // var genres = [];\n      // for (var i = 0; i < posts.length; i++) {\n      //   // console.log(this.getTitle(posts[i].post_id));\n      //   titles[i] = this.getTitle(posts[i].post_id);\n      //   genres[i] = this.getGenre(posts[i].post_id);\n      // }\n      // console.log(titles);\n      console.log(\"plcount: \" + this.props.notifcount);\n      console.log(\"plid\" + this.props.notificationid);\n      return React.createElement(\"div\", {\n        className: \"posts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, posts.map(post => React.createElement(Post, {\n        key: post.post_id,\n        post: post,\n        type: this.props.type,\n        notifcount: this.props.notifcount,\n        notificationid: this.props.notificationid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      })));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/anthonyhom/Documents/atam-web/src/Component/PostingList.js"],"names":["React","Post","SuggestionCard","PostingList","Component","constructor","props","checkConnections","fetch","method","body","JSON","stringify","action","userid","sessionStorage","getItem","then","res","json","result","connections","undefined","setState","hasConnections","changeButton","button","buttonState","u1Status","u2Status","u3Status","changeConnection","e","state","connectuserid","user_id","session_token","Status","includes","window","location","reload","error","comments","success","render","isLoaded","posts","message","onMain","margin","border","type","map","post","post_id","notifcount","notificationid","console","log"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Post from \"./Post.js\";\nimport SuggestionCard from \"./SuggestionCard.js\";\nimport \"../css/suggestedusers.css\";\nimport \"../css/suggestiongrid.css\";\nexport default class PostingList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      comments: [],\n      hasConnections: false,\n      u1Status: \"Follow\",\n      u2Status: \"Follow\",\n      u3Status: \"Follow\",\n      success: false,\n    };\n  }\n\n  checkConnections = () => {\n    fetch(\n      \"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\",\n      {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getConnections\",\n          userid: sessionStorage.getItem(\"user\"),\n        }),\n      }\n    )\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.connections !== undefined) {\n          this.setState({\n            hasConnections: true,\n          });\n        }\n      });\n  };\n\n  changeButton = (button, buttonState) => {\n    if (buttonState === \"Follow\") {\n      if (button === \"u1Status\") {\n        this.setState({\n          u1Status: \"Unfollow\",\n        });\n      } else if (button === \"u2Status\") {\n        this.setState({\n          u2Status: \"Unfollow\",\n        });\n      }\n      if (button === \"u3Status\") {\n        this.setState({\n          u3Status: \"Unfollow\",\n        });\n      }\n    } else if (buttonState === \"Unfollow\") {\n      if (button === \"u1Status\") {\n        this.setState({\n          u1Status: \"Follow\",\n        });\n      } else if (button === \"u2Status\") {\n        this.setState({\n          u2Status: \"Follow\",\n        });\n      }\n      if (button === \"u3Status\") {\n        this.setState({\n          u3Status: \"Follow\",\n        });\n      }\n    }\n  };\n\n  changeConnection = (e) => {\n    if (this.state.u1Status === \"Unfollow\") {\n      // console.log(\"HERE\");\n      fetch(\n        \"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\",\n        {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"getConnections\",\n            userid: sessionStorage.getItem(\"user\"),\n            connectuserid: 450,\n          }),\n        }\n      )\n        .then((res) => res.json())\n        .then((result) => {\n          if (!result.connections) {\n            return fetch(\n              \"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\",\n              {\n                method: \"post\",\n                body: JSON.stringify({\n                  action: \"addOrEditConnections\",\n                  user_id: sessionStorage.getItem(\"user\"),\n                  session_token: sessionStorage.getItem(\"token\"),\n                  userid: sessionStorage.getItem(\"user\"),\n                  connectuserid: 450,\n                }),\n              }\n            )\n              .then((res) => res.json())\n              .then((result) => {\n                if (result.Status.includes(\"SUCCESS\")) {\n                  window.location.reload(false);\n                }\n              });\n          }\n        });\n    }\n    if (this.state.u2Status === \"Unfollow\") {\n      fetch(\n        \"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\",\n        {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"getConnections\",\n            userid: sessionStorage.getItem(\"user\"),\n            connectuserid: 439,\n          }),\n        }\n      )\n        .then((res) => res.json())\n        .then((result) => {\n          if (!result.connections) {\n            return fetch(\n              \"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\",\n              {\n                method: \"post\",\n                body: JSON.stringify({\n                  action: \"addOrEditConnections\",\n                  user_id: sessionStorage.getItem(\"user\"),\n                  session_token: sessionStorage.getItem(\"token\"),\n                  userid: sessionStorage.getItem(\"user\"),\n                  connectuserid: 439,\n                }),\n              }\n            )\n              .then((res) => res.json())\n              .then((result) => {\n                if (result.Status.includes(\"SUCCESS\")) {\n                  window.location.reload(false);\n                }\n              });\n          }\n        });\n    }\n    if (this.state.u3Status === \"Unfollow\") {\n      fetch(\n        \"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\",\n        {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"getConnections\",\n            userid: sessionStorage.getItem(\"user\"),\n            connectuserid: 440,\n          }),\n        }\n      )\n        .then((res) => res.json())\n        .then((result) => {\n          if (!result.connections) {\n            return fetch(\n              \"http://stark.cse.buffalo.edu/cse410/atam/api/connectioncontroller.php\",\n              {\n                method: \"post\",\n                body: JSON.stringify({\n                  action: \"addOrEditConnections\",\n                  user_id: sessionStorage.getItem(\"user\"),\n                  session_token: sessionStorage.getItem(\"token\"),\n                  userid: sessionStorage.getItem(\"user\"),\n                  connectuserid: 440,\n                }),\n              }\n            )\n              .then((res) => res.json())\n              .then((result) => {\n                if (result.Status.includes(\"SUCCESS\")) {\n                  window.location.reload(false);\n                }\n              });\n          }\n        });\n    }\n  };\n\n  render() {\n    //this.loadPosts();\n    const { error, isLoaded, posts } = this.props;\n    if (error) {\n      return <div> Error: {error.message} </div>;\n    } else if (\n      this.state.hasConnections === false &&\n      this.props.onMain === \"main\"\n    ) {\n      this.checkConnections();\n      return (\n        <div>\n          <h3>\n            You are currently not following anyone. <br /> Here are some\n            suggested users to follow:\n          </h3>\n          <div className=\"suggested-user-card\">\n            <div className=\"user\">\n              <div\n                className=\"profile-pic-container\"\n                style={{ margin: \"15px\", border: \"1px solid #dbdbdb\" }}\n              >\n                <img\n                  className=\"profile-pic\"\n                  src={\n                    \"https://image.shutterstock.com/image-photo/portrait-photo-person-project-concept-260nw-507830914.jpg\"\n                  }\n                  alt=\"post\"\n                />\n              </div>\n              <div className=\"sug-user-info\">\n                <h1>Jon Smith</h1>\n                <div className=\"sug-bio\">\n                  Hello! My name is Jon Smith. I am a programmer currently\n                  employed at Microsoft. I like to make websites, and have been\n                  working on web dev for 5 years now. I hope you guys enjoy some\n                  of my work here!\n                </div>\n              </div>\n              <div className=\"sugg-btn-container\">\n                <button\n                  className=\"sugg-btn\"\n                  onClick={() =>\n                    this.changeButton(\"u1Status\", this.state.u1Status)\n                  }\n                >\n                  <span>{this.state.u1Status}</span>\n                </button>\n              </div>\n            </div>\n\n            <div className=\"user\">\n              <div\n                className=\"profile-pic-container\"\n                style={{ margin: \"15px\", border: \"1px solid #dbdbdb\" }}\n              >\n                <img\n                  className=\"profile-pic\"\n                  src={\n                    \"https://t4.ftcdn.net/jpg/02/89/99/33/240_F_289993382_QJID0KDhWhwp8JX3llcoD8V9jDKAZnpq.jpg\"\n                  }\n                  alt=\"post\"\n                />\n              </div>\n              <div className=\"sug-user-info\">\n                <h1>Tessa Samson</h1>\n                <div className=\"sug-bio\">\n                  Hello! My name is Tessa! I make music! I am a Music teacher at\n                  an Elementary School. I love to explore different genres of\n                  music and create unique sounding songs.\n                </div>\n              </div>\n\n              <div className=\"sugg-btn-container\">\n                <button\n                  className=\"sugg-btn\"\n                  onClick={() =>\n                    this.changeButton(\"u2Status\", this.state.u2Status)\n                  }\n                >\n                  <span>{this.state.u2Status}</span>\n                </button>\n              </div>\n            </div>\n\n            <div className=\"user\">\n              <div\n                className=\"profile-pic-container\"\n                style={{ margin: \"15px\", border: \"1px solid #dbdbdb\" }}\n              >\n                <img\n                  className=\"profile-pic\"\n                  src={\n                    \"https://media.gettyimages.com/photos/portrait-of-japanese-man-picture-id650171629\"\n                  }\n                  alt=\"post\"\n                />\n              </div>\n              <div className=\"sug-user-info\">\n                <h1>Suki Ryo</h1>\n                <div className=\"sug-bio\">\n                  Hello! I am Suki. I am a Japanese Filmaker and I enjoy\n                  exploring the Horror Genre. I have released many indie films\n                  in the past and am looking to continue working on larger\n                  projects. I hope you like what I have worked on!\n                </div>\n              </div>\n              <div className=\"sugg-btn-container\">\n                <button\n                  className=\"sugg-btn\"\n                  onClick={() =>\n                    this.changeButton(\"u3Status\", this.state.u3Status)\n                  }\n                >\n                  <span>{this.state.u3Status}</span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <button\n            className=\"confirm-btn\"\n            onClick={(e) => this.changeConnection(e)}\n          >\n            <span>Let's Start!</span>\n          </button>\n        </div>\n      );\n    } else if (!isLoaded) {\n      return <div> </div>;\n    } else if (this.props.type == \"comment\") {\n      return (\n        <div>\n          {/* <Post\n        post={posts[0]}\n        title={\"aslkdlnknnkssksksksk\"}\n        genre={\"c  mcmcmcmcm\"}\n      /> */}\n          {this.state.comments.map((post) => (\n            <Post\n              key={post.post_id}\n              post={post}\n              notifcount={this.props.notifcount}\n              notificationid={this.props.notificationid}\n            />\n          ))}\n        </div>\n      );\n    } else {\n      // this.getTitle(125);\n      // console.log(this.state.title);\n      // var titles = [];\n      // var genres = [];\n\n      // for (var i = 0; i < posts.length; i++) {\n      //   // console.log(this.getTitle(posts[i].post_id));\n      //   titles[i] = this.getTitle(posts[i].post_id);\n      //   genres[i] = this.getGenre(posts[i].post_id);\n      // }\n\n      // console.log(titles);\n      console.log(\"plcount: \" + this.props.notifcount);\n      console.log(\"plid\" + this.props.notificationid);\n      return (\n        <div className=\"posts\">\n          {/* <Post\n            post={posts[0]}\n            title={\"aslkdlnknnkssksksksk\"}\n            genre={\"c  mcmcmcmcm\"}\n          /> */}\n          {posts.map((post) => (\n            <Post\n              key={post.post_id}\n              post={post}\n              type={this.props.type}\n              notifcount={this.props.notifcount}\n              notificationid={this.props.notificationid}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}