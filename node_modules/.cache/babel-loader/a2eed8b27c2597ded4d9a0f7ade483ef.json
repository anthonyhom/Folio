{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyhom/Documents/atam-web/src/Component/FirstTimeLogin.js\";\nimport React from \"react\";\nimport \"../css/post.css\";\nimport \"../css/firsttimelogin.css\";\n\nclass MainContent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateUserArtifacts = (e, artifact_cat, artifact_item) => {\n      e.preventDefault();\n\n      if (artifact_item !== \"\") {\n        fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"addOrEditUserArtifacts\",\n            user_id: sessionStorage.getItem(\"user\"),\n            userid: sessionStorage.getItem(\"user\"),\n            session_token: sessionStorage.getItem(\"token\"),\n            artifacttype: \"profileSettings\",\n            artifactcategory: artifact_cat,\n            artifacturl: artifact_item\n          })\n        }).then(resp => resp.json()).then(response => {\n          if (response.Status.includes(\"SUCCESS\")) {\n            this.setState({\n              artMessage: \"Updated Successfully\"\n            });\n          }\n        }, error => {\n          alert(\"error!\");\n        });\n      }\n    };\n\n    this.updateUserName = e => {\n      e.preventDefault(); //make the api call to the authentication page\n\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"getUsers\",\n          userid: sessionStorage.getItem(\"user\")\n        })\n      }).then(res => res.json()).then(result => {\n        return fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"addOrEditUsers\",\n            user_id: sessionStorage.getItem(\"user\"),\n            userid: sessionStorage.getItem(\"user\"),\n            session_token: sessionStorage.getItem(\"token\"),\n            name: this.state.dname,\n            firstname: this.state.fname,\n            lastname: this.state.lname\n          })\n        }).then(resp => resp.json()).then(response => {\n          if (result) {\n            sessionStorage.setItem(\"dname\", this.state.dname);\n            sessionStorage.setItem(\"fname\", this.state.fname);\n            sessionStorage.setItem(\"lname\", this.state.lname);\n            this.setState({\n              nameMessage: \"Successfully Updated!\"\n            });\n            window.location.reload(false);\n          } else {\n            sessionStorage.removeItem(\"dname\");\n            sessionStorage.removeItem(\"fname\");\n            sessionStorage.removeItem(\"lname\");\n          }\n        });\n      });\n    };\n\n    this.state = {\n      section: \"profileSettings\",\n      dname: \"\",\n      fname: \"\",\n      lname: \"\",\n      bio: \"\",\n      crowdfunding: \"\",\n      freelance: \"\",\n      profilePic: \"\",\n      email: \"\",\n      artMessage: \"\",\n      nameMessage: \"\"\n    };\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    if (this.state.section === \"profileSettings\") {\n      return React.createElement(\"div\", {\n        className: \"tab-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Profile Page Settings\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Change Profile Picture: \"), React.createElement(\"input\", {\n        name: \"profilePic\",\n        placeholder: \"Picture URL\",\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"update-button\",\n        onClick: e => this.updateUserArtifacts(e, \"profilePic\", this.state.profilePic),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Update\")), React.createElement(\"div\", {\n        className: \"profile-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Bio: \"), React.createElement(\"textarea\", {\n        type: \"text\",\n        name: \"bio\",\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"update-button\",\n        onClick: e => this.updateUserArtifacts(e, \"bio\", this.state.bio),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Update\")), React.createElement(\"div\", {\n        className: \"profile-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"profile-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Crowdfunding Link: \"), React.createElement(\"input\", {\n        name: \"crowdfunding\",\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"update-button\",\n        onClick: e => this.updateUserArtifacts(e, \"crowdfunding\", this.state.crowdfunding),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Update\")), React.createElement(\"div\", {\n        className: \"profile-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"profile-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Freelance Link: \"), React.createElement(\"input\", {\n        name: \"freelance\",\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"update-button\",\n        onClick: e => this.updateUserArtifacts(e, \"freelance\", this.state.freelance),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Update\"), React.createElement(\"div\", {\n        className: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, this.state.artMessage))));\n    } else if (this.state.section === \"nameSettings\") {\n      return React.createElement(\"div\", {\n        className: \"tab-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Name Settings\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Change Display Name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"dname\",\n        placeholder: \"Display Name\",\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"profile-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Change First Name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"fname\",\n        placeholder: \"First Name\",\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"profile-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Change Last Name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"lname\",\n        placeholder: \"Last Name\",\n        onChange: e => this.handleChange(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, this.state.nameMessage), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"update-button\",\n        onClick: e => this.updateUserName(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"Update\"))));\n    }\n  }\n\n}\n\nfunction setMenuOption(mode, maincontent, e) {\n  maincontent.current.setState({\n    section: mode\n  });\n}\n\nexport default class FirstTimeLogin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dname: \"\",\n      fname: \"\",\n      lname: \"\",\n      otp: \"\",\n      email: \"\",\n      pass: \"\",\n      result: \"\"\n    };\n  }\n\n  handleChange(e) {\n    this.setState({ ...this.state,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    let mainContent = React.createRef();\n\n    let logo = require(\"../logo.svg\");\n\n    return React.createElement(\"div\", {\n      className: \"firsttime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"firsttime-tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: e => setMenuOption(\"profileSettings\", mainContent, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Profile Settings\"), React.createElement(\"button\", {\n      onClick: e => setMenuOption(\"nameSettings\", mainContent, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Name Settings\"), React.createElement(\"div\", {\n      className: \"welcome-tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      alt: \"logo\",\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"welcome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"Welcome!!\"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }), \"The Team at Folio wants to thank you for joining! \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"Lets Get Started With Your Basic Information:\")))), React.createElement(MainContent, {\n      ref: mainContent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/anthonyhom/Documents/atam-web/src/Component/FirstTimeLogin.js"],"names":["React","MainContent","Component","constructor","props","updateUserArtifacts","e","artifact_cat","artifact_item","preventDefault","fetch","method","body","JSON","stringify","action","user_id","sessionStorage","getItem","userid","session_token","artifacttype","artifactcategory","artifacturl","then","resp","json","response","Status","includes","setState","artMessage","error","alert","updateUserName","res","result","name","state","dname","firstname","fname","lastname","lname","setItem","nameMessage","window","location","reload","removeItem","section","bio","crowdfunding","freelance","profilePic","email","handleChange","value","target","render","setMenuOption","mode","maincontent","current","FirstTimeLogin","otp","pass","mainContent","createRef","logo","require"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;AACA,OAAO,2BAAP;;AAEA,MAAMC,WAAN,SAA0BD,KAAK,CAACE,SAAhC,CAA0C;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAqBnBC,mBArBmB,GAqBG,CAACC,CAAD,EAAIC,YAAJ,EAAkBC,aAAlB,KAAoC;AACxDF,MAAAA,CAAC,CAACG,cAAF;;AACA,UAAID,aAAa,KAAK,EAAtB,EAA0B;AACxBE,QAAAA,KAAK,CAAC,+DAAD,EAAkE;AACrEC,UAAAA,MAAM,EAAE,MAD6D;AAErEC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,YAAAA,MAAM,EAAE,wBADW;AAEnBC,YAAAA,OAAO,EAAEC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAFU;AAGnBC,YAAAA,MAAM,EAAEF,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAHW;AAInBE,YAAAA,aAAa,EAAEH,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAJI;AAKnBG,YAAAA,YAAY,EAAE,iBALK;AAMnBC,YAAAA,gBAAgB,EAAEf,YANC;AAOnBgB,YAAAA,WAAW,EAAEf;AAPM,WAAf;AAF+D,SAAlE,CAAL,CAYGgB,IAZH,CAYSC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAZlB,EAaGF,IAbH,CAcKG,QAAD,IAAc;AACZ,cAAIA,QAAQ,CAACC,MAAT,CAAgBC,QAAhB,CAAyB,SAAzB,CAAJ,EAAyC;AACvC,iBAAKC,QAAL,CAAc;AACZC,cAAAA,UAAU,EAAE;AADA,aAAd;AAGD;AACF,SApBL,EAqBKC,KAAD,IAAW;AACTC,UAAAA,KAAK,CAAC,QAAD,CAAL;AACD,SAvBL;AAyBD;AACF,KAlDkB;;AAAA,SAoDnBC,cApDmB,GAoDD5B,CAAD,IAAO;AACtBA,MAAAA,CAAC,CAACG,cAAF,GADsB,CAEtB;;AACAC,MAAAA,KAAK,CAAC,iEAAD,EAAoE;AACvEC,QAAAA,MAAM,EAAE,MAD+D;AAEvEC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,MAAM,EAAE,UADW;AAEnBI,UAAAA,MAAM,EAAEF,cAAc,CAACC,OAAf,CAAuB,MAAvB;AAFW,SAAf;AAFiE,OAApE,CAAL,CAOGM,IAPH,CAOSW,GAAD,IAASA,GAAG,CAACT,IAAJ,EAPjB,EAQGF,IARH,CAQSY,MAAD,IAAY;AAChB,eAAO1B,KAAK,CACV,iEADU,EAEV;AACEC,UAAAA,MAAM,EAAE,MADV;AAEEC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,YAAAA,MAAM,EAAE,gBADW;AAEnBC,YAAAA,OAAO,EAAEC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAFU;AAGnBC,YAAAA,MAAM,EAAEF,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAHW;AAInBE,YAAAA,aAAa,EAAEH,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAJI;AAKnBmB,YAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWC,KALE;AAMnBC,YAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWG,KANH;AAOnBC,YAAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWK;AAPF,WAAf;AAFR,SAFU,CAAL,CAeJnB,IAfI,CAeEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAfX,EAgBJF,IAhBI,CAgBEG,QAAD,IAAc;AAClB,cAAIS,MAAJ,EAAY;AACVnB,YAAAA,cAAc,CAAC2B,OAAf,CAAuB,OAAvB,EAAgC,KAAKN,KAAL,CAAWC,KAA3C;AACAtB,YAAAA,cAAc,CAAC2B,OAAf,CAAuB,OAAvB,EAAgC,KAAKN,KAAL,CAAWG,KAA3C;AACAxB,YAAAA,cAAc,CAAC2B,OAAf,CAAuB,OAAvB,EAAgC,KAAKN,KAAL,CAAWK,KAA3C;AAEA,iBAAKb,QAAL,CAAc;AACZe,cAAAA,WAAW,EAAE;AADD,aAAd;AAGAC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD,WATD,MASO;AACL/B,YAAAA,cAAc,CAACgC,UAAf,CAA0B,OAA1B;AACAhC,YAAAA,cAAc,CAACgC,UAAf,CAA0B,OAA1B;AACAhC,YAAAA,cAAc,CAACgC,UAAf,CAA0B,OAA1B;AACD;AACF,SA/BI,CAAP;AAgCD,OAzCH;AA0CD,KAjGkB;;AAEjB,SAAKX,KAAL,GAAa;AACXY,MAAAA,OAAO,EAAE,iBADE;AAEXX,MAAAA,KAAK,EAAE,EAFI;AAGXE,MAAAA,KAAK,EAAE,EAHI;AAIXE,MAAAA,KAAK,EAAE,EAJI;AAKXQ,MAAAA,GAAG,EAAE,EALM;AAMXC,MAAAA,YAAY,EAAE,EANH;AAOXC,MAAAA,SAAS,EAAE,EAPA;AAQXC,MAAAA,UAAU,EAAE,EARD;AASXC,MAAAA,KAAK,EAAE,EATI;AAUXxB,MAAAA,UAAU,EAAE,EAVD;AAWXc,MAAAA,WAAW,EAAE;AAXF,KAAb;AAaD;;AACDW,EAAAA,YAAY,CAAClD,CAAD,EAAI;AACd,UAAM;AAAE+B,MAAAA,IAAF;AAAQoB,MAAAA;AAAR,QAAkBnD,CAAC,CAACoD,MAA1B;AACA,SAAK5B,QAAL,CAAc;AAAE,OAACO,IAAD,GAAQoB;AAAV,KAAd;AACD;;AAgFDE,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKrB,KAAL,CAAWY,OAAX,KAAuB,iBAA3B,EAA8C;AAC5C,aACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,EAEE;AACE,QAAA,IAAI,EAAC,YADP;AAEE,QAAA,WAAW,EAAC,aAFd;AAGE,QAAA,QAAQ,EAAG5C,CAAD,IAAO,KAAKkD,YAAL,CAAkBlD,CAAlB,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAOE;AACE,QAAA,SAAS,EAAC,eADZ;AAEE,QAAA,OAAO,EAAGA,CAAD,IACP,KAAKD,mBAAL,CACEC,CADF,EAEE,YAFF,EAGE,KAAKgC,KAAL,CAAWgB,UAHb,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CADF,EAsBE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,KAFP;AAGE,QAAA,QAAQ,EAAGhD,CAAD,IAAO,KAAKkD,YAAL,CAAkBlD,CAAlB,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAOE;AACE,QAAA,SAAS,EAAC,eADZ;AAEE,QAAA,OAAO,EAAGA,CAAD,IACP,KAAKD,mBAAL,CAAyBC,CAAzB,EAA4B,KAA5B,EAAmC,KAAKgC,KAAL,CAAWa,GAA9C,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CAtBF,EAsCE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAHF,EAIE;AACE,QAAA,IAAI,EAAC,cADP;AAEE,QAAA,QAAQ,EAAG7C,CAAD,IAAO,KAAKkD,YAAL,CAAkBlD,CAAlB,CAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAQE;AACE,QAAA,SAAS,EAAC,eADZ;AAEE,QAAA,OAAO,EAAGA,CAAD,IACP,KAAKD,mBAAL,CACEC,CADF,EAEE,cAFF,EAGE,KAAKgC,KAAL,CAAWc,YAHb,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,CAtCF,EA2DE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAHF,EAIE;AACE,QAAA,IAAI,EAAC,WADP;AAEE,QAAA,QAAQ,EAAG9C,CAAD,IAAO,KAAKkD,YAAL,CAAkBlD,CAAlB,CAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAQE;AACE,QAAA,SAAS,EAAC,eADZ;AAEE,QAAA,OAAO,EAAGA,CAAD,IACP,KAAKD,mBAAL,CAAyBC,CAAzB,EAA4B,WAA5B,EAAyC,KAAKgC,KAAL,CAAWe,SAApD,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,EAgBE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0B,KAAKf,KAAL,CAAWP,UAArC,CAhBF,CA3DF,CAFF,CADF;AAmFD,KApFD,MAoFO,IAAI,KAAKO,KAAL,CAAWY,OAAX,KAAuB,cAA3B,EAA2C;AAChD,aACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,EAEE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,WAAW,EAAC,cAHd;AAIE,QAAA,QAAQ,EAAG5C,CAAD,IAAO,KAAKkD,YAAL,CAAkBlD,CAAlB,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAUE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAEE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,WAAW,EAAC,YAHd;AAIE,QAAA,QAAQ,EAAGA,CAAD,IAAO,KAAKkD,YAAL,CAAkBlD,CAAlB,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAVF,EAmBE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,WAAW,EAAC,WAHd;AAIE,QAAA,QAAQ,EAAGA,CAAD,IAAO,KAAKkD,YAAL,CAAkBlD,CAAlB,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAQE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0B,KAAKgC,KAAL,CAAWO,WAArC,CARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,EAWE;AACE,QAAA,SAAS,EAAC,eADZ;AAEE,QAAA,OAAO,EAAGvC,CAAD,IAAO,KAAK4B,cAAL,CAAoB5B,CAApB,CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,CAnBF,CAFF,CADF;AA2CD;AACF;;AAtOuC;;AAyO1C,SAASsD,aAAT,CAAuBC,IAAvB,EAA6BC,WAA7B,EAA0CxD,CAA1C,EAA6C;AAC3CwD,EAAAA,WAAW,CAACC,OAAZ,CAAoBjC,QAApB,CAA6B;AAC3BoB,IAAAA,OAAO,EAAEW;AADkB,GAA7B;AAGD;;AAED,eAAe,MAAMG,cAAN,SAA6BhE,KAAK,CAACE,SAAnC,CAA6C;AAC1DC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKkC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXE,MAAAA,KAAK,EAAE,EAFI;AAGXE,MAAAA,KAAK,EAAE,EAHI;AAIXsB,MAAAA,GAAG,EAAE,EAJM;AAKXV,MAAAA,KAAK,EAAE,EALI;AAMXW,MAAAA,IAAI,EAAE,EANK;AAOX9B,MAAAA,MAAM,EAAE;AAPG,KAAb;AASD;;AAEDoB,EAAAA,YAAY,CAAClD,CAAD,EAAI;AACd,SAAKwB,QAAL,CAAc,EACZ,GAAG,KAAKQ,KADI;AAEZ,OAAChC,CAAC,CAACoD,MAAF,CAASrB,IAAV,GAAiB/B,CAAC,CAACoD,MAAF,CAASD;AAFd,KAAd;AAID;;AAEDE,EAAAA,MAAM,GAAG;AACP,QAAIQ,WAAW,GAAGnE,KAAK,CAACoE,SAAN,EAAlB;;AACA,QAAIC,IAAI,GAAGC,OAAO,CAAC,aAAD,CAAlB;;AACA,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,OAAO,EAAGhE,CAAD,IAAOsD,aAAa,CAAC,iBAAD,EAAoBO,WAApB,EAAiC7D,CAAjC,CAD/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAME;AACE,MAAA,OAAO,EAAGA,CAAD,IAAOsD,aAAa,CAAC,cAAD,EAAiBO,WAAjB,EAA8B7D,CAA9B,CAD/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANF,EAWE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAE+D,IAAV;AAAgB,MAAA,GAAG,EAAC,MAApB;AAA2B,MAAA,SAAS,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,OACmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADnB,OAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD1B,wDAEoD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFpD,OAE2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAF3D,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAHF,CAFF,CAXF,CADF,EAsBE,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAEF,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBF,CADF;AA0BD;;AAlDyD","sourcesContent":["import React from \"react\";\nimport \"../css/post.css\";\nimport \"../css/firsttimelogin.css\";\n\nclass MainContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      section: \"profileSettings\",\n      dname: \"\",\n      fname: \"\",\n      lname: \"\",\n      bio: \"\",\n      crowdfunding: \"\",\n      freelance: \"\",\n      profilePic: \"\",\n      email: \"\",\n      artMessage: \"\",\n      nameMessage: \"\",\n    };\n  }\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  }\n\n  updateUserArtifacts = (e, artifact_cat, artifact_item) => {\n    e.preventDefault();\n    if (artifact_item !== \"\") {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"addOrEditUserArtifacts\",\n          user_id: sessionStorage.getItem(\"user\"),\n          userid: sessionStorage.getItem(\"user\"),\n          session_token: sessionStorage.getItem(\"token\"),\n          artifacttype: \"profileSettings\",\n          artifactcategory: artifact_cat,\n          artifacturl: artifact_item,\n        }),\n      })\n        .then((resp) => resp.json())\n        .then(\n          (response) => {\n            if (response.Status.includes(\"SUCCESS\")) {\n              this.setState({\n                artMessage: \"Updated Successfully\",\n              });\n            }\n          },\n          (error) => {\n            alert(\"error!\");\n          }\n        );\n    }\n  };\n\n  updateUserName = (e) => {\n    e.preventDefault();\n    //make the api call to the authentication page\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUsers\",\n        userid: sessionStorage.getItem(\"user\"),\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        return fetch(\n          \"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\",\n          {\n            method: \"post\",\n            body: JSON.stringify({\n              action: \"addOrEditUsers\",\n              user_id: sessionStorage.getItem(\"user\"),\n              userid: sessionStorage.getItem(\"user\"),\n              session_token: sessionStorage.getItem(\"token\"),\n              name: this.state.dname,\n              firstname: this.state.fname,\n              lastname: this.state.lname,\n            }),\n          }\n        )\n          .then((resp) => resp.json())\n          .then((response) => {\n            if (result) {\n              sessionStorage.setItem(\"dname\", this.state.dname);\n              sessionStorage.setItem(\"fname\", this.state.fname);\n              sessionStorage.setItem(\"lname\", this.state.lname);\n\n              this.setState({\n                nameMessage: \"Successfully Updated!\",\n              });\n              window.location.reload(false);\n            } else {\n              sessionStorage.removeItem(\"dname\");\n              sessionStorage.removeItem(\"fname\");\n              sessionStorage.removeItem(\"lname\");\n            }\n          });\n      });\n  };\n\n  render() {\n    if (this.state.section === \"profileSettings\") {\n      return (\n        <div className=\"tab-content\">\n          <h2>Profile Page Settings</h2>\n          <form>\n            <div className=\"profile-input\">\n              <div className=\"profile-label\">Change Profile Picture: </div>\n              <input\n                name=\"profilePic\"\n                placeholder=\"Picture URL\"\n                onChange={(e) => this.handleChange(e)}\n              ></input>\n              <button\n                className=\"update-button\"\n                onClick={(e) =>\n                  this.updateUserArtifacts(\n                    e,\n                    \"profilePic\",\n                    this.state.profilePic\n                  )\n                }\n              >\n                Update\n              </button>\n            </div>\n\n            <div className=\"profile-input\">\n              <div className=\"profile-label\">Bio: </div>\n              <textarea\n                type=\"text\"\n                name=\"bio\"\n                onChange={(e) => this.handleChange(e)}\n              />\n              <button\n                className=\"update-button\"\n                onClick={(e) =>\n                  this.updateUserArtifacts(e, \"bio\", this.state.bio)\n                }\n              >\n                Update\n              </button>\n            </div>\n            <div className=\"profile-input\">\n              <br />\n              <br />\n              <div className=\"profile-label\">Crowdfunding Link: </div>\n              <input\n                name=\"crowdfunding\"\n                onChange={(e) => this.handleChange(e)}\n              ></input>\n              <button\n                className=\"update-button\"\n                onClick={(e) =>\n                  this.updateUserArtifacts(\n                    e,\n                    \"crowdfunding\",\n                    this.state.crowdfunding\n                  )\n                }\n              >\n                Update\n              </button>\n            </div>\n            <div className=\"profile-input\">\n              <br />\n              <br />\n              <div className=\"profile-label\">Freelance Link: </div>\n              <input\n                name=\"freelance\"\n                onChange={(e) => this.handleChange(e)}\n              ></input>\n              <button\n                className=\"update-button\"\n                onClick={(e) =>\n                  this.updateUserArtifacts(e, \"freelance\", this.state.freelance)\n                }\n              >\n                Update\n              </button>\n              <div className=\"message\">{this.state.artMessage}</div>\n            </div>\n          </form>\n        </div>\n      );\n    } else if (this.state.section === \"nameSettings\") {\n      return (\n        <div className=\"tab-content\">\n          <h2>Name Settings</h2>\n          <form>\n            <div className=\"profile-input\">\n              <div className=\"profile-label\">Change Display Name: </div>\n              <input\n                type=\"text\"\n                name=\"dname\"\n                placeholder=\"Display Name\"\n                onChange={(e) => this.handleChange(e)}\n              ></input>\n            </div>\n            <div className=\"profile-input\">\n              <div className=\"profile-label\">Change First Name: </div>\n              <input\n                type=\"text\"\n                name=\"fname\"\n                placeholder=\"First Name\"\n                onChange={(e) => this.handleChange(e)}\n              ></input>\n            </div>\n            <div className=\"profile-input\">\n              <div className=\"profile-label\">Change Last Name: </div>\n              <input\n                type=\"text\"\n                name=\"lname\"\n                placeholder=\"Last Name\"\n                onChange={(e) => this.handleChange(e)}\n              />\n              <div className=\"message\">{this.state.nameMessage}</div>\n              <br />\n              <br />\n              <button\n                className=\"update-button\"\n                onClick={(e) => this.updateUserName(e)}\n              >\n                Update\n              </button>\n            </div>\n          </form>\n        </div>\n      );\n    }\n  }\n}\n\nfunction setMenuOption(mode, maincontent, e) {\n  maincontent.current.setState({\n    section: mode,\n  });\n}\n\nexport default class FirstTimeLogin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dname: \"\",\n      fname: \"\",\n      lname: \"\",\n      otp: \"\",\n      email: \"\",\n      pass: \"\",\n      result: \"\",\n    };\n  }\n\n  handleChange(e) {\n    this.setState({\n      ...this.state,\n      [e.target.name]: e.target.value,\n    });\n  }\n\n  render() {\n    let mainContent = React.createRef();\n    let logo = require(\"../logo.svg\");\n    return (\n      <div className=\"firsttime\">\n        <div className=\"firsttime-tab\">\n          <button\n            onClick={(e) => setMenuOption(\"profileSettings\", mainContent, e)}\n          >\n            Profile Settings\n          </button>\n          <button\n            onClick={(e) => setMenuOption(\"nameSettings\", mainContent, e)}\n          >\n            Name Settings\n          </button>\n          <div className=\"welcome-tab\">\n            <img src={logo} alt=\"logo\" className=\"logo\" />\n            <div className=\"welcome\">\n              <b>Welcome!!</b> <br /> <br />\n              The Team at Folio wants to thank you for joining! <br /> <br />\n              <b>Lets Get Started With Your Basic Information:</b>\n            </div>\n          </div>\n        </div>\n\n        <MainContent ref={mainContent} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}