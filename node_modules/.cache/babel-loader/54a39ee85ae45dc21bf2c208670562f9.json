{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyhom/Documents/atam-web/src/Component/Notification.js\";\nimport React from \"react\";\nimport \"../css/Notification.css\";\nexport default class Notification extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      title: \"\",\n      caption: \"\",\n      collab: \"\",\n      modalPage: \"\",\n      user: \"\",\n      proPic: \"\",\n      userID: \"\",\n      userSep: this.props.notification.artifact_url.indexOf(\"~@~\")\n    }; // this.post = React.createRef();\n  }\n\n  getUser(userid) {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUsers\",\n        userid: userid\n      })\n    }).then(res => res.json()).then(result => {\n      if (result.users) {\n        this.setState({\n          user: result.users[0]\n        });\n      }\n    });\n  }\n\n  getProPic(userid) {\n    this.state.userID = this.props.notification.artifact_url.substring(0, this.state.userSep);\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUserArtifacts\",\n        userid: this.state.userID,\n        artifactcategory: \"profilePic\"\n      })\n    }).then(res => res.json()).then(result => {\n      this.setState({\n        proPic: result.user_artifacts[0].artifact_url\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getProPic(this.props.notification.userid);\n    this.getUser(this.props.notification.user_id);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"notifblock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-pro-pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"profile picture\",\n      className: \"profile-pic\",\n      src: this.state.proPic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), this.props.notification.artifact_url.substring(this.state.userSep + 3, this.props.notification.artifact_url.length)));\n  }\n\n}","map":{"version":3,"sources":["/Users/anthonyhom/Documents/atam-web/src/Component/Notification.js"],"names":["React","Notification","Component","constructor","props","state","showModal","title","caption","collab","modalPage","user","proPic","userID","userSep","notification","artifact_url","indexOf","getUser","userid","fetch","method","body","JSON","stringify","action","then","res","json","result","users","setState","getProPic","substring","artifactcategory","user_artifacts","componentDidMount","user_id","render","length"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../css/Notification.css\";\n\nexport default class Notification extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      title: \"\",\n      caption: \"\",\n      collab: \"\",\n      modalPage: \"\",\n      user: \"\",\n      proPic: \"\",\n      userID: \"\",\n      userSep: this.props.notification.artifact_url.indexOf(\"~@~\"),\n    };\n    // this.post = React.createRef();\n  }\n\n  getUser(userid) {\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/usercontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUsers\",\n        userid: userid,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.users) {\n          this.setState({\n            user: result.users[0],\n          });\n        }\n      });\n  }\n  getProPic(userid) {\n    this.state.userID = this.props.notification.artifact_url.substring(\n      0,\n      this.state.userSep\n    );\n\n    fetch(\"http://stark.cse.buffalo.edu/cse410/atam/api/uacontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getUserArtifacts\",\n        userid: this.state.userID,\n        artifactcategory: \"profilePic\",\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        this.setState({\n          proPic: result.user_artifacts[0].artifact_url,\n        });\n      });\n  }\n  componentDidMount() {\n    this.getProPic(this.props.notification.userid);\n    this.getUser(this.props.notification.user_id);\n  }\n  render() {\n    return (\n      <div>\n        <p className=\"notifblock\">\n          <div className=\"post-pro-pic\">\n            <img\n              alt=\"profile picture\"\n              className=\"profile-pic\"\n              src={this.state.proPic}\n            />\n          </div>\n          {this.props.notification.artifact_url.substring(\n            this.state.userSep + 3,\n            this.props.notification.artifact_url.length\n          )}\n        </p>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}